{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 3872b24a097abbea2869","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack:///./src/modules/common/icon/icon.js","webpack:///./src/modules/common/helpers/request.helper.js","webpack:///./src/modules/common/services/notification.service.js","webpack:///./src/modules/common/helpers/deep.clone.helper.js","webpack:///./src/modules/udw/tabs/browse/browse.tab.module.js","webpack:///./src/modules/udw/tabs/browse/components/panel/browse.panel.component.js","webpack:///./src/modules/udw/tabs/browse/components/finder/finder.component.js","webpack:///./src/modules/udw/tabs/browse/components/finder/finder.tree.branch.component.js","webpack:///./src/modules/udw/tabs/browse/components/finder/finder.tree.leaf.component.js","webpack:///./src/modules/udw/services/universal.discovery.service.js","webpack:///./src/modules/udw/tabs/browse/components/select-content-button/select.content.button.component.js","webpack:///./src/modules/udw/common/tab-content-panel/tab.content.panel.component.js","webpack:///./src/modules/udw/tabs/browse/components/content-meta-preview/content.meta.preview.component.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_1__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","Icon","props","linkHref","customPath","concat","className","extraClasses","a","createElement","xlinkHref","propTypes","PropTypes","string","isRequired","defaultProps","__webpack_exports__","token","siteaccess","headers","X-Siteaccess","X-CSRF-Token","mode","credentials","handleRequestError","response","ok","Error","statusText","json","status","showNotification","detail","event","CustomEvent","document","body","dispatchEvent","error","message","label","deepClone","data","clonedData","toString","apply","length","UDWBrowseTab","showContentMetaPreview","setShowContentMetaPreviewState","useState","contentData","setContentData","attrs","_objectSpread","isVisible","onItemSelect","__WEBPACK_IMPORTED_MODULE_1__components_panel_browse_panel_component__","__WEBPACK_IMPORTED_MODULE_2__components_content_meta_preview_content_meta_preview_component__","eZ","addConfig","__WEBPACK_IMPORTED_MODULE_2__common_tab_content_panel_tab_content_panel_component__","__WEBPACK_IMPORTED_MODULE_3__finder_finder_component__","BrowsePanelComponent","bool","multiple","startingLocationId","number","findLocationsByParentLocationId","func","maxHeight","restInfo","shape","allowContainersOnly","sortFieldMappings","sortOrderMappings","selectedContent","array","onSelectContent","canSelectContent","onItemRemove","ROOT_LOCATION_OBJECT","window","querySelector","content","FinderComponent","Component","constructor","super","state","locationsMap","activeLocations","limit","QUERY_LIMIT","appendMoreItems","bind","updateLocationsData","findLocationChildren","loadBranchLeaves","onLoadMore","renderBranch","setBranchContainerRef","setPreselectedState","getPreselectedState","preselectedItem","componentDidMount","isForcedLocation","allowedLocations","allowedIncludesPreselected","includes","preselectedLocation","isPreselectedLocation","loadPreselectedData","setDefaultActiveLocations","parentLocationId","componentDidUpdate","updateBranchesContainerScroll","UNSAFE_componentWillReceiveProps","nextProps","isShowingUp","setState","locationId","Promise","resolve","loadPreselectedLocationData","then","createPreselectedLocationData","locations","Location","setPreselectedLocationData","subitems","createItem","offset","children","location","items","map","value","createData","count","totalCount","childCount","item","entries","forEach","key","depth","setLocationData","View","Result","searchHits","searchHit","locationData","id","[object Object]","container","_refBranchesContainer","scrollLeft","scrollWidth","clientWidth","parentLocation","sortClauses","getLocationSortClauses","sortField","sortOrder","updateSelectedBranches","updateActiveLocations","locationDepth","parseInt","slice","branchActiveLocationId","isBranchActiveLocationLoading","childrenData","console","log","__WEBPACK_IMPORTED_MODULE_2__finder_tree_branch_component__","total","activeLocationId","isActiveLocationLoading","onItemClick","onBranchClick","contentTypesMap","ref","render","style","height","index","branchActiveLocation","__WEBPACK_IMPORTED_MODULE_2__finder_tree_leaf_component__","FinderTreeBranchComponent","expandBranch","renderLeaf","contentTypeHref","ContentInfo","Content","ContentType","_href","isContainer","isSelectable","active","isLoadingChildren","remoteId","onClick","selected","renderLoadMore","loadMoreLabel","Translator","trans","type","__WEBPACK_IMPORTED_MODULE_2__select_content_button_select_content_button_component__","__WEBPACK_IMPORTED_MODULE_3__common_icon_icon__","FinderTreeLeafComponent","handleClick","target","closest","getContentTypeIdentifier","contentType","identifier","renderIcon","contentTypeIdentifier","contentTypeIconUrl","helpers","getContentTypeIconUrl","renderLoadingIcon","renderSelectContentBtn","isSelected","find","componentClassName","isSelectedClassName","isNotSelectableClassName","join","Name","__WEBPACK_IMPORTED_MODULE_0__common_services_notification_service__","__WEBPACK_IMPORTED_MODULE_1__common_helpers_request_helper_js__","HEADERS_CREATE_VIEW","Accept","Content-Type","callback","endpoint","Routing","generate","request","Request","fetch","handleRequestResponse","catch","showErrorNotification","SectionIdentifier","JSON","stringify","ViewInput","public","LocationQuery","Criteria","FacetBuilders","SortClauses","Filter","ParentLocationIdCriterion","method","assign","SelectContentButtonComponent","toggleEnabledState","handleSelect","handleUnselect","selectContentEnabled","checkCanSelectContent","stopPropagation","iconId","__WEBPACK_IMPORTED_MODULE_2__common_icon_icon__","onPreview","labels","contentTableItem","notAvailable","TabContentPanelComponent","hidden","node","ContentMetaPreviewComponent","imageUri","translations","toggleBookmark","contentTypeInfo","ContentTypeInfo","getImageUri","CurrentVersion","imageField","Version","Fields","field","fieldTypeIdentifier","fieldValue","uri","getTranslations","VersionInfo","VersionTranslationInfo","Language","language","languages","mappings","languageCode","renderTranslation","translation","renderImagePreview","imagePreviewNotAvailableLabel","src","alt","renderBookmarkIcon","isBookmarked","bookmarkIconId","wrapperClassName","tabIndex","contentTypeName","adminUiConfig","contentTypeNames","formatShortDateTime","timezone","title","lastModifiedLabel","creationDateLabel","translationsLabel","Date","lastModificationDate","publishedDate","activeTab","ready"],"mappings":"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","file":"UDWBrowseTab.module.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"UDWBrowseTab\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"eZ\"] = root[\"eZ\"] || {}, root[\"eZ\"][\"modules\"] = root[\"eZ\"][\"modules\"] || {}, root[\"eZ\"][\"modules\"][\"UDWBrowseTab\"] = factory(root[\"React\"], root[\"PropTypes\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 69);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3872b24a097abbea2869","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 0\n// module chunks = 0 1 2 3 4 5 6 7","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}\n// module id = 1\n// module chunks = 0 1 2 3 4 5","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Icon = (props) => {\n    const linkHref = props.customPath ? props.customPath : `/bundles/ezplatformadminui/img/ez-icons.svg#${props.name}`;\n    let className = 'ez-icon';\n\n    if (props.extraClasses) {\n        className = `${className} ${props.extraClasses}`;\n    }\n\n    return (\n        <svg className={className}>\n            <use xlinkHref={linkHref} />\n        </svg>\n    );\n};\n\nIcon.propTypes = {\n    extraClasses: PropTypes.string.isRequired,\n    name: PropTypes.string,\n    customPath: PropTypes.string,\n};\n\nIcon.defaultProps = {\n    customPath: null,\n    name: null,\n};\n\nexport default Icon;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/icon/icon.js","/**\n * Returns basic RequestInit object for Request\n *\n * @function getBasicRequestInit\n * @param {Object} restInfo REST config hash containing: token and siteaccess properties\n * @returns {RequestInit}\n */\nexport const getBasicRequestInit = ({ token, siteaccess }) => {\n    return {\n        headers: {\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    };\n};\n\n/**\n * Handles request error\n *\n * @function handleRequestResponse\n * @param {Response} response\n * @returns {Response}\n */\nexport const handleRequestError = (response) => {\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n\n    return response;\n};\n\n/**\n * Handles request response\n *\n * @function handleRequestResponse\n * @param {Response} response\n * @returns {Error|Promise}\n */\nexport const handleRequestResponse = (response) => {\n    return handleRequestError(response).json();\n};\n\n/**\n * Handles request response; returns status if response is OK\n *\n * @function handleRequestResponseStatus\n * @param {Response} response\n * @returns {number}\n */\nexport const handleRequestResponseStatus = (response) => {\n    return handleRequestError(response).status;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/helpers/request.helper.js","export const NOTIFICATION_INFO_LABEL = 'info';\nexport const NOTIFICATION_SUCCESS_LABEL = 'success';\nexport const NOTIFICATION_WARNING_LABEL = 'warning';\nexport const NOTIFICATION_ERROR_LABEL = 'danger';\n\n/**\n * Dispatches notification event\n *\n * @method showNotification\n * @param {{message: string, label: string}} detail\n */\nexport const showNotification = (detail) => {\n    const event = new CustomEvent('ez-notify', {\n        detail,\n    });\n\n    document.body.dispatchEvent(event);\n};\n\n/**\n * Dispatches info notification event\n *\n * @method showInfoNotification\n * @param {String} message\n */\nexport const showInfoNotification = (message) => {\n    showNotification({\n        message,\n        label: NOTIFICATION_INFO_LABEL,\n    });\n};\n\n/**\n * Dispatches success notification event\n *\n * @method showSuccessNotification\n * @param {String} message\n */\nexport const showSuccessNotification = (message) => {\n    showNotification({\n        message,\n        label: NOTIFICATION_SUCCESS_LABEL,\n    });\n};\n\n/**\n * Dispatches warning notification event\n *\n * @method showWarningNotification\n * @param {String} message\n */\nexport const showWarningNotification = (message) => {\n    showNotification({\n        message,\n        label: NOTIFICATION_WARNING_LABEL,\n    });\n};\n\n/**\n * Dispatches error notification event\n *\n * @method showErrorNotification\n * @param {(string|Error)} error\n */\nexport const showErrorNotification = (error) => {\n    const isErrorObj = error instanceof Error;\n    const message = isErrorObj ? error.message : error;\n\n    showNotification({\n        message,\n        label: NOTIFICATION_ERROR_LABEL,\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/services/notification.service.js","/**\n * Clones any object. Faster alternative to `JSON.parse(JSON.stringify)`\n *\n * @function deepClone\n * @param {Any} data\n * @returns {Any} cloned data\n */\nconst deepClone = (data) => {\n    let clonedData;\n\n    if (typeof data !== 'object') {\n        return data;\n    }\n\n    if (!data) {\n        return data;\n    }\n\n    if (Object.prototype.toString.apply(data) === '[object Array]') {\n        clonedData = [];\n\n        for (let i = 0; i < data.length; i++) {\n            clonedData[i] = deepClone(data[i]);\n        }\n\n        return clonedData;\n    }\n\n    clonedData = {};\n\n    for (let i in data) {\n        if (data.hasOwnProperty(i)) {\n            clonedData[i] = deepClone(data[i]);\n        }\n    }\n\n    return clonedData;\n};\n\nexport default deepClone;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/helpers/deep.clone.helper.js","import React, { Fragment, useState } from 'react';\nimport BrowsePanelComponent from './components/panel/browse.panel.component';\nimport ContentMetaPreviewComponent from './components/content-meta-preview/content.meta.preview.component';\n\nconst UDWBrowseTab = (props) => {\n    const [showContentMetaPreview, setShowContentMetaPreviewState] = useState(false);\n    const [contentData, setContentData] = useState(null);\n    const onItemSelect = (data) => {\n        setContentData(data);\n        setShowContentMetaPreviewState(true);\n    };\n    const attrs = { ...props, isVisible: true, onItemSelect };\n\n    return (\n        <Fragment>\n            <BrowsePanelComponent {...attrs} />\n            <ContentMetaPreviewComponent isVisible={showContentMetaPreview} data={contentData} />\n        </Fragment>\n    );\n};\n\neZ.addConfig('udwTabs.Browse', UDWBrowseTab);\n\nexport default UDWBrowseTab;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/udw/tabs/browse/browse.tab.module.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport TabContentPanelComponent from '../../../../common/tab-content-panel/tab.content.panel.component';\nimport FinderComponent from '../finder/finder.component';\n\nconst BrowsePanelComponent = (props) => {\n    const wrapperAttrs = { className: 'c-finder-panel' };\n\n    return (\n        <div {...wrapperAttrs}>\n            <TabContentPanelComponent {...props}>\n                <FinderComponent {...props} />\n            </TabContentPanelComponent>\n        </div>\n    );\n};\n\nBrowsePanelComponent.propTypes = {\n    isVisible: PropTypes.bool.isRequired,\n    multiple: PropTypes.bool.isRequired,\n    startingLocationId: PropTypes.number.isRequired,\n    findLocationsByParentLocationId: PropTypes.func.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    maxHeight: PropTypes.number.isRequired,\n    restInfo: PropTypes.shape({\n        token: PropTypes.string.isRequired,\n        siteaccess: PropTypes.string.isRequired,\n    }).isRequired,\n    allowContainersOnly: PropTypes.bool.isRequired,\n    sortFieldMappings: PropTypes.object.isRequired,\n    sortOrderMappings: PropTypes.object.isRequired,\n    selectedContent: PropTypes.array.isRequired,\n    onSelectContent: PropTypes.func.isRequired,\n    canSelectContent: PropTypes.func.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n};\n\nexport default BrowsePanelComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/udw/tabs/browse/components/panel/browse.panel.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport FinderTreeBranchComponent from './finder.tree.branch.component';\nimport deepClone from '../../../../../common/helpers/deep.clone.helper';\nimport {\n    loadPreselectedLocationData,\n    QUERY_LIMIT,\n    findLocationsByParentLocationId,\n} from '../../../../services/universal.discovery.service';\n\nconst ROOT_LOCATION_OBJECT = null;\nconst token = window.document.querySelector('meta[name=\"CSRF-Token\"]').content;\nconst siteaccess = window.document.querySelector('meta[name=\"SiteAccess\"]').content;\nconst restInfo = { token, siteaccess };\n\nexport default class FinderComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            locationsMap: {},\n            activeLocations: [],\n            limit: QUERY_LIMIT,\n        };\n\n        this.appendMoreItems = this.appendMoreItems.bind(this);\n        this.updateLocationsData = this.updateLocationsData.bind(this);\n        this.findLocationChildren = this.findLocationChildren.bind(this);\n        this.loadBranchLeaves = this.loadBranchLeaves.bind(this);\n        this.onLoadMore = this.onLoadMore.bind(this);\n        this.renderBranch = this.renderBranch.bind(this);\n        this.setBranchContainerRef = this.setBranchContainerRef.bind(this);\n        this.setPreselectedState = this.getPreselectedState.bind(this);\n\n        this.locationsMap = {};\n        this.activeLocations = [];\n        this.preselectedItem = null;\n    }\n\n    componentDidMount() {\n        const isForcedLocation = this.props.allowedLocations.length === 1;\n        const allowedIncludesPreselected = this.props.allowedLocations.includes(this.props.preselectedLocation);\n        const isPreselectedLocation = this.props.preselectedLocation && (!this.props.allowedLocations.length || allowedIncludesPreselected);\n\n        if (isForcedLocation) {\n            this.loadPreselectedData(this.props.allowedLocations[0]);\n        } else if (isPreselectedLocation) {\n            this.loadPreselectedData(this.props.preselectedLocation);\n        } else {\n            this.setDefaultActiveLocations();\n            findLocationsByParentLocationId({ ...restInfo, parentLocationId: this.props.startingLocationId }, this.updateLocationsData);\n        }\n    }\n\n    componentDidUpdate() {\n        this.updateBranchesContainerScroll();\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const isShowingUp = nextProps.isVisible && nextProps.isVisible !== this.props.isVisible;\n\n        if (this.preselectedItem && this.locationsMap && this.activeLocations && isShowingUp) {\n            this.setState(this.getPreselectedState, () => nextProps.isVisible && this.props.onItemSelect(this.preselectedItem));\n        }\n    }\n\n    getPreselectedState() {\n        return { locationsMap: this.locationsMap, activeLocations: this.activeLocations };\n    }\n\n    /**\n     * Load data of preselected location.\n     *\n     * @method loadPreselectedData\n     * @param {String} locationId\n     * @memberof FinderComponent\n     */\n    loadPreselectedData(locationId) {\n        const promise = new Promise((resolve) =>\n            loadPreselectedLocationData({ startingLocationId: this.props.startingLocationId, locationId }, resolve)\n        );\n\n        promise.then((response) => {\n            this.createPreselectedLocationData(response);\n            this.preselectedItem = response.locations[locationId].Location;\n            this.setPreselectedLocationData();\n        });\n    }\n\n    /**\n     * Create preselected location data.\n     *\n     * @method createPreselectedLocationData\n     * @param {Object} params\n     * @param {Array} params.locations\n     * @param {Array} params.subitems\n     * @memberof FinderComponent\n     */\n    createPreselectedLocationData({ locations, subitems }) {\n        const createItem = ({ offset = 0, children, location }) => {\n            const createData = (items) => {\n                return items.locations.map((value) => {\n                    return { value };\n                });\n            };\n            const data = children ? createData(children) : [];\n            const count = children ? children.totalCount : location.childCount;\n\n            return { count, data, offset, location };\n        };\n\n        if (subitems[1]) {\n            const item = createItem({ children: subitems[1], location: ROOT_LOCATION_OBJECT });\n\n            this.locationsMap[this.props.startingLocationId] = item;\n            this.activeLocations[0] = ROOT_LOCATION_OBJECT;\n        }\n\n        Object.entries(locations).forEach(([key, value]) => {\n            const item = createItem({\n                children: subitems[key],\n                location: value.Location,\n            });\n\n            this.locationsMap[key] = item;\n            this.activeLocations[value.Location.depth] = item.location;\n        });\n    }\n\n    /**\n     * Sets preselected location data.\n     *\n     * @method setPreselectedLocationData\n     * @memberof FinderComponent\n     */\n    setPreselectedLocationData() {\n        this.setState(this.getPreselectedState, () => this.props.isVisible && this.props.onItemSelect(this.preselectedItem));\n    }\n\n    /**\n     * Updates locations based state attributes: activeLocations and locationsMap\n     *\n     * @method updateLocationsData\n     * @param {Object} params params hash containing: parentLocationId, data and offset properties\n     * @memberof FinderComponent\n     */\n    updateLocationsData({ data, offset }, location = null) {\n        this.setLocationData({\n            location,\n            data: data.View.Result.searchHits.searchHit,\n            count: data.View.Result.count,\n            offset,\n        });\n    }\n\n    setDefaultActiveLocations() {\n        this.setState(() => ({ activeLocations: [ROOT_LOCATION_OBJECT] }));\n    }\n\n    setLocationData(locationData) {\n        this.setState((state, props) => {\n            const { location } = locationData;\n            const locationId = location ? location.id : props.startingLocationId;\n            const locationsMap = { ...deepClone(state.locationsMap), [locationId]: locationData };\n\n            return { locationsMap };\n        });\n    }\n\n    /**\n     * Updates the left scroll position of branches container\n     *\n     * @method updateBranchesContainerScroll\n     * @memberof FinderComponent\n     */\n    updateBranchesContainerScroll() {\n        const container = this._refBranchesContainer;\n\n        if (container) {\n            container.scrollLeft = container.scrollWidth - container.clientWidth;\n        }\n    }\n\n    /**\n     * Handles loading more items for a selected parent location\n     *\n     * @method onLoadMore\n     * @param {Object} parentLocation\n     * @memberof FinderComponent\n     */\n    onLoadMore(parentLocation) {\n        const limit = this.state.limit;\n        const parentLocationId = parentLocation ? parentLocation.id : this.props.startingLocationId;\n        const offset = this.state.locationsMap[parentLocationId].offset + limit;\n        const sortClauses = parentLocation ? this.getLocationSortClauses(parentLocation) : {};\n\n        findLocationsByParentLocationId({ ...restInfo, parentLocationId, limit, offset, sortClauses }, this.appendMoreItems);\n    }\n\n    /**\n     * Appends more subitems for a selected location\n     *\n     * @method appendMoreItems\n     * @param {Object} response object containing information about: parentLocationId, offset and data\n     * @memberof FinderComponent\n     */\n    appendMoreItems({ parentLocationId, offset, data }) {\n        this.setState((state) => {\n            const locationsMap = deepClone(state.locationsMap);\n            const locationData = locationsMap[parentLocationId];\n\n            locationData.offset = offset;\n            locationData.data = [...locationData.data, ...data.View.Result.searchHits.searchHit];\n\n            return { locationsMap };\n        });\n    }\n\n    /**\n     * Loads branch children (sub-items)\n     *\n     * @method loadBranchLeaves\n     * @param {Object} parentLocation\n     * @memberof FinderComponent\n     */\n    loadBranchLeaves(parentLocation) {\n        const { startingLocationId } = this.props;\n        const sortClauses = this.getLocationSortClauses(parentLocation);\n        const promise = new Promise((resolve) =>\n            findLocationsByParentLocationId(\n                {\n                    ...restInfo,\n                    parentLocationId: parentLocation ? parentLocation.id : startingLocationId,\n                    sortClauses,\n                },\n                resolve\n            )\n        );\n\n        promise.then((response) => {\n            this.updateLocationsData(response, parentLocation);\n        });\n    }\n\n    /**\n     * Generates sort clause for location\n     *\n     * @method getLocationSortClauses\n     * @param {Object} location\n     * @returns {Object} sortClauses for given location\n     * @memberof FinderComponent\n     */\n    getLocationSortClauses(location) {\n        const { sortFieldMappings, sortOrderMappings } = this.props;\n        const sortField = sortFieldMappings[location.sortField];\n        const sortOrder = sortOrderMappings[location.sortOrder];\n\n        if (!sortField || !sortOrder) {\n            return {};\n        }\n\n        return { [sortField]: sortOrder };\n    }\n\n    /**\n     * Finds location children (sub-items)\n     *\n     * @method findLocationChildren\n     * @param {Object} location\n     * @memberof FinderComponent\n     */\n    findLocationChildren(location) {\n        if (this.props.allowedLocations.length === 1) {\n            return;\n        }\n\n        this.props.onItemSelect(location);\n        this.updateSelectedBranches(location);\n\n        if (!location.childCount) {\n            this.setLocationData({ location, data: [], count: 0, offset: 0 });\n\n            return;\n        }\n\n        const sortClauses = this.getLocationSortClauses(location);\n        const promise = new Promise((resolve) =>\n            findLocationsByParentLocationId(\n                {\n                    ...restInfo,\n                    parentLocationId: location.id,\n                    sortClauses,\n                },\n                resolve\n            )\n        );\n\n        promise.then((response) => {\n            this.updateLocationsData(response, location);\n        });\n    }\n\n    /**\n     * Updates selected branches state\n     *\n     * @param {Object} location location struct\n     * @memberof FinderComponent\n     */\n    updateSelectedBranches(location) {\n        this.setState(this.updateActiveLocations.bind(this, location));\n    }\n\n    /**\n     * Updates active locations info\n     *\n     * @method updateActiveLocations\n     * @param {Object} location location struct\n     * @param {Object} state component state\n     * @returns {Object}\n     * @memberof FinderComponent\n     */\n    updateActiveLocations(location, state) {\n        const locationDepth = parseInt(location.depth, 10);\n        const activeLocations = state.activeLocations.slice(0, locationDepth);\n\n        activeLocations[locationDepth] = location;\n\n        return { activeLocations };\n    }\n\n    /**\n     * Renders branch (the sub items container)\n     *\n     * @method renderBranch\n     * @param {Object} locationData params hash containing: parent, count and data properties\n     * @returns {JSX.Element|null}\n     * @memberof FinderComponent\n     */\n    renderBranch(locationData, branchActiveLocationId, isBranchActiveLocationLoading) {\n        if (!locationData || !locationData.count) {\n            return null;\n        }\n\n        const { data: childrenData, count, location } = locationData;\n        const locationId = location ? location.id : this.props.startingLocationId;\n\n        console.log('renderBranch', { locationId, locationData }, this.props.startingLocationId);\n\n        return (\n            <FinderTreeBranchComponent\n                key={locationId}\n                parentLocation={location}\n                items={childrenData}\n                total={count}\n                activeLocationId={branchActiveLocationId}\n                isActiveLocationLoading={isBranchActiveLocationLoading}\n                onItemClick={this.findLocationChildren}\n                onBranchClick={this.loadBranchLeaves}\n                onLoadMore={this.onLoadMore}\n                maxHeight={this.props.maxHeight}\n                allowContainersOnly={this.props.allowContainersOnly}\n                contentTypesMap={this.props.contentTypesMap}\n                allowedLocations={this.props.allowedLocations}\n                multiple={this.props.multiple}\n                selectedContent={this.props.selectedContent}\n                onSelectContent={this.props.onSelectContent}\n                canSelectContent={this.props.canSelectContent}\n                onItemRemove={this.props.onItemRemove}\n            />\n        );\n    }\n\n    setBranchContainerRef(ref) {\n        this._refBranchesContainer = ref;\n    }\n\n    render() {\n        const { activeLocations } = this.state;\n\n        if (!activeLocations.length) {\n            return null;\n        }\n\n        const { locationsMap } = this.state;\n\n        return (\n            <div className=\"c-finder\">\n                <div className=\"c-finder__branches\" style={{ height: `${this.props.maxHeight}px` }} ref={this.setBranchContainerRef}>\n                    {activeLocations.map((location, index) => {\n                        const locationId = location ? location.id : this.props.startingLocationId;\n                        const branchActiveLocation = activeLocations[index + 1];\n                        const branchActiveLocationId = branchActiveLocation ? branchActiveLocation.id : null;\n                        const isBranchActiveLocationLoading = branchActiveLocationId && !locationsMap[branchActiveLocationId];\n                        const locationData = locationsMap[locationId];\n\n                        return this.renderBranch(locationData, branchActiveLocationId, isBranchActiveLocationLoading);\n                    })}\n                </div>\n            </div>\n        );\n    }\n}\n\nFinderComponent.propTypes = {\n    multiple: PropTypes.bool.isRequired,\n    maxHeight: PropTypes.number.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    startingLocationId: PropTypes.number.isRequired,\n    allowContainersOnly: PropTypes.bool,\n    contentTypesMap: PropTypes.object,\n    preselectedLocation: PropTypes.number,\n    allowedLocations: PropTypes.array,\n    isVisible: PropTypes.bool,\n    sortFieldMappings: PropTypes.object.isRequired,\n    sortOrderMappings: PropTypes.object.isRequired,\n    selectedContent: PropTypes.array.isRequired,\n    onSelectContent: PropTypes.func.isRequired,\n    canSelectContent: PropTypes.func.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n};\n\nFinderComponent.defaultProps = {\n    allowedLocations: [],\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/udw/tabs/browse/components/finder/finder.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport FinderTreeLeafComponent from './finder.tree.leaf.component';\n\nexport default class FinderTreeBranchComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.expandBranch = this.expandBranch.bind(this);\n        this.onLoadMore = this.onLoadMore.bind(this);\n        this.renderLeaf = this.renderLeaf.bind(this);\n    }\n\n    expandBranch() {\n        this.props.onBranchClick(this.props.parentLocation);\n    }\n\n    /**\n     * Renders leaf (the single content item)\n     *\n     * @method renderLeaf\n     * @param {Object} data location response\n     * @returns {JSX.Element}\n     * @memberof FinderTreeBranchComponent\n     */\n    renderLeaf(data) {\n        const { activeLocationId, isActiveLocationLoading, onItemClick } = this.props;\n        const location = data.value.Location;\n        const contentTypesMap = this.props.contentTypesMap;\n        const contentTypeHref = location.ContentInfo.Content.ContentType._href;\n        const isContainer = contentTypesMap && contentTypesMap[contentTypeHref] && contentTypesMap[contentTypeHref].isContainer;\n        const isSelectable = !(this.props.allowContainersOnly && !isContainer);\n        const active = location.id === activeLocationId;\n        const isLoadingChildren = active && isActiveLocationLoading;\n\n        return (\n            <FinderTreeLeafComponent\n                key={location.remoteId}\n                location={location}\n                onClick={onItemClick}\n                selected={active}\n                isLoadingChildren={isLoadingChildren}\n                isSelectable={isSelectable}\n                allowedLocations={this.props.allowedLocations}\n                multiple={this.props.multiple}\n                selectedContent={this.props.selectedContent}\n                onSelectContent={this.props.onSelectContent}\n                canSelectContent={this.props.canSelectContent}\n                onItemRemove={this.props.onItemRemove}\n                contentTypesMap={this.props.contentTypesMap}\n            />\n        );\n    }\n\n    onLoadMore() {\n        this.props.onLoadMore(this.props.parentLocation);\n    }\n\n    /**\n     * Render load more button\n     *\n     * @method renderLoadMore\n     * @returns {JSX.Element}\n     * @memberof FinderTreeBranchComponent\n     */\n    renderLoadMore() {\n        const { items, total } = this.props;\n\n        if (!items.length || items.length === total) {\n            return null;\n        }\n\n        const loadMoreLabel = Translator.trans(/*@Desc(\"Load more\")*/ 'finder.branch.load_more.label', {}, 'universal_discovery_widget');\n\n        return (\n            <button type=\"button\" className=\"c-finder-tree-branch__load-more\" onClick={this.onLoadMore}>\n                {loadMoreLabel}\n            </button>\n        );\n    }\n\n    render() {\n        const items = this.props.items;\n        const attrs = {\n            className: 'c-finder-tree-branch',\n        };\n\n        if (!items.length) {\n            attrs.className = `${attrs.className} c-finder-tree-branch--collapsed`;\n            attrs.onClick = this.expandBranch;\n        }\n\n        return (\n            <div {...attrs}>\n                <div className=\"c-finder-tree-branch__list-wrapper\">\n                    {this.props.items.map(this.renderLeaf)}\n                    {this.renderLoadMore()}\n                </div>\n            </div>\n        );\n    }\n}\n\nFinderTreeBranchComponent.propTypes = {\n    items: PropTypes.array.isRequired,\n    total: PropTypes.number.isRequired,\n    parentLocation: PropTypes.object,\n    onItemClick: PropTypes.func.isRequired,\n    onBranchClick: PropTypes.func.isRequired,\n    onLoadMore: PropTypes.func.isRequired,\n    maxHeight: PropTypes.number.isRequired,\n    allowContainersOnly: PropTypes.bool,\n    contentTypesMap: PropTypes.object,\n    allowedLocations: PropTypes.array.isRequired,\n    multiple: PropTypes.bool.isRequired,\n    selectedContent: PropTypes.array.isRequired,\n    onSelectContent: PropTypes.func.isRequired,\n    canSelectContent: PropTypes.func.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n    activeLocationId: PropTypes.string,\n    isActiveLocationLoading: PropTypes.bool,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/udw/tabs/browse/components/finder/finder.tree.branch.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport SelectContentButtonComponent from '../select-content-button/select.content.button.component';\nimport Icon from '../../../../../common/icon/icon';\n\nexport default class FinderTreeLeafComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n    /**\n     * Handles clicks on a leaf\n     *\n     * @method handleClick\n     * @memberof FinderTreeLeafComponent\n     */\n    handleClick(event) {\n        const { location, isSelectable, onClick } = this.props;\n\n        if (!isSelectable || event.target.closest('.c-finder-tree-leaf__btn--toggle-selection')) {\n            return;\n        }\n\n        onClick(location);\n    }\n\n    getContentTypeIdentifier() {\n        const { contentTypesMap, location } = this.props;\n        const contentTypeHref = location.ContentInfo.Content.ContentType._href;\n        const contentType = contentTypesMap ? contentTypesMap[contentTypeHref] : null;\n        const contentTypeIdentifier = contentType ? contentType.identifier : null;\n\n        return contentTypeIdentifier;\n    }\n\n    /**\n     * Renders an icon of a content type\n     *\n     * @method renderIcon\n     * @returns {JSX.Element|null}\n     */\n    renderIcon() {\n        const contentTypeIdentifier = this.getContentTypeIdentifier();\n\n        if (!contentTypeIdentifier) {\n            return null;\n        }\n\n        const contentTypeIconUrl = eZ.helpers.contentType.getContentTypeIconUrl(contentTypeIdentifier);\n        let extraClasses = 'ez-icon--small';\n\n        if (this.props.selected) {\n            extraClasses = `${extraClasses} ez-icon--light`;\n        }\n\n        return (\n            <div className=\"c-finder-tree-leaf__icon\">\n                <Icon customPath={contentTypeIconUrl} extraClasses={extraClasses} />\n            </div>\n        );\n    }\n\n    /**\n     * Renders a loading state icon\n     *\n     * @method renderLoadingIcon\n     * @returns {JSX.Element|null}\n     * @memberof FinderTreeLeafComponent\n     */\n    renderLoadingIcon() {\n        if (!this.props.selected || !this.props.isLoadingChildren) {\n            return null;\n        }\n\n        return <Icon name=\"spinner\" extraClasses=\"ez-spin ez-icon-x2 ez-icon--small ez-icon--light c-finder-tree-leaf__loading-icon\" />;\n    }\n\n    renderSelectContentBtn() {\n        const {\n            isSelectable,\n            multiple,\n            selectedContent,\n            location,\n            onSelectContent,\n            onItemRemove,\n            canSelectContent,\n            isLoadingChildren,\n        } = this.props;\n\n        if (!isSelectable || isLoadingChildren || !multiple) {\n            return null;\n        }\n\n        return (\n            <SelectContentButtonComponent\n                multiple={multiple}\n                isSelected={!!selectedContent.find((content) => content.id === location.id)}\n                location={location}\n                onSelectContent={onSelectContent}\n                onItemRemove={onItemRemove}\n                canSelectContent={canSelectContent}\n            />\n        );\n    }\n\n    render() {\n        const { location, selected, isSelectable, isLoadingChildren, allowedLocations } = this.props;\n        const isForcedLocation = allowedLocations.length === 1;\n        const componentClassName = 'c-finder-tree-leaf';\n        const isSelectedClassName = selected ? `${componentClassName}--selected` : '';\n        const isNotSelectableClassName = !isSelectable || isForcedLocation ? `${componentClassName}--not-selectable` : '';\n        const hasChildrenClassName = location.childCount ? `${componentClassName}--has-children` : '';\n        const isLoadingChildrenClassName = isLoadingChildren ? `${componentClassName}--loading` : '';\n        const attrs = {\n            className: [\n                componentClassName,\n                isSelectedClassName,\n                hasChildrenClassName,\n                isLoadingChildrenClassName,\n                isNotSelectableClassName,\n            ].join(' '),\n        };\n\n        if (!isForcedLocation) {\n            attrs.onClick = this.handleClick;\n        }\n\n        return (\n            <div {...attrs}>\n                {this.renderIcon()}\n                <span className=\"c-finder-tree-leaf__content-name\">{location.ContentInfo.Content.Name}</span>\n                {this.renderLoadingIcon()}\n                {this.renderSelectContentBtn()}\n            </div>\n        );\n    }\n}\n\nFinderTreeLeafComponent.propTypes = {\n    location: PropTypes.object.isRequired,\n    onClick: PropTypes.func.isRequired,\n    selected: PropTypes.bool.isRequired,\n    isLoadingChildren: PropTypes.bool.isRequired,\n    isSelectable: PropTypes.bool.isRequired,\n    allowedLocations: PropTypes.array.isRequired,\n    multiple: PropTypes.bool.isRequired,\n    selectedContent: PropTypes.array.isRequired,\n    onSelectContent: PropTypes.func.isRequired,\n    canSelectContent: PropTypes.func.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/udw/tabs/browse/components/finder/finder.tree.leaf.component.js","import { showErrorNotification } from '../../common/services/notification.service';\nimport { handleRequestResponse } from '../../common/helpers/request.helper.js';\n\nconst HEADERS_CREATE_VIEW = {\n    Accept: 'application/vnd.ez.api.View+json; version=1.1',\n    'Content-Type': 'application/vnd.ez.api.ViewInput+json; version=1.1',\n};\nexport const QUERY_LIMIT = 50;\nconst ENDPOINT_CREATE_VIEW = '/api/ezp/v2/views';\n\n/**\n * Loads preselected location data\n *\n * @function loadPreselectedLocationData\n * @param {Object} params\n * @param {String} params.startingLocationId\n * @param {String} params.locationId\n * @param {Number} [params.limit]\n * @param {Function} callback\n */\nexport const loadPreselectedLocationData = ({ startingLocationId, locationId, limit = QUERY_LIMIT }, callback) => {\n    const endpoint = window.Routing.generate('ezplatform.udw.preselected_location.data', {\n        startingLocationId,\n        locationId,\n        limit,\n    });\n    const request = new Request(endpoint, {\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n/**\n * Loads content info\n *\n * @function loadContentInfo\n * @param {Object} restInfo REST config hash containing: token and siteaccess properties\n * @param {String} contentId\n * @param {Function} callback\n */\nexport const loadContentInfo = ({ token, siteaccess }, contentId, callback) => {\n    const body = JSON.stringify({\n        ViewInput: {\n            identifier: `udw-load-content-info-${contentId}`,\n            public: false,\n            ContentQuery: {\n                Criteria: {},\n                FacetBuilders: {},\n                SortClauses: {},\n                Filter: { ContentIdCriterion: `${contentId}` },\n                limit: 1,\n                offset: 0,\n            },\n        },\n    });\n    const request = new Request(ENDPOINT_CREATE_VIEW, {\n        method: 'POST',\n        headers: Object.assign({}, HEADERS_CREATE_VIEW, {\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        }),\n        body,\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n/**\n * Loads location\n *\n * @function loadLocation\n * @param {Object} params params hash containing REST config: token and siteaccess properties; locationId and offset\n * @param {Function} callback\n */\nexport const loadLocation = ({ token, siteaccess, locationId, limit = QUERY_LIMIT, offset = 0 }, callback) => {\n    const body = JSON.stringify({\n        ViewInput: {\n            identifier: `udw-location-by-id-${locationId}`,\n            public: false,\n            LocationQuery: {\n                Criteria: {},\n                FacetBuilders: {},\n                SortClauses: {},\n                Filter: { LocationIdCriterion: locationId },\n                limit,\n                offset,\n            },\n        },\n    });\n    const request = new Request(ENDPOINT_CREATE_VIEW, {\n        method: 'POST',\n        headers: Object.assign({}, HEADERS_CREATE_VIEW, {\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        }),\n        body,\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n/**\n * Checks if user has permission to create content\n *\n * @function checkCreatePermission\n * @param {Object} params params hash containing REST config: token, siteaccess, contentTypeIdentifier, languageCode, locationId\n * @param {Function} callback\n */\nexport const checkCreatePermission = ({ token, contentTypeIdentifier, languageCode, locationId }, callback) => {\n    const endpoint = window.Routing.generate('ezplatform.content_on_the_fly.has_access', {\n        languageCode: languageCode,\n        contentTypeIdentifier: contentTypeIdentifier,\n        locationId: locationId,\n    });\n    const request = new Request(endpoint, {\n        method: 'GET',\n        headers: { 'X-CSRF-Token': token },\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n/**\n * Finds locations related to the parent location\n *\n * @function findLocationsByParentLocationId\n * @param {Object} params params hash containing REST config: token and siteaccess properties; parentLocationId and offset; sortClauses\n * @param {Function} callback\n */\nexport const findLocationsByParentLocationId = (\n    { token, siteaccess, parentLocationId, limit = QUERY_LIMIT, offset = 0, sortClauses = { SectionIdentifier: 'ascending' } },\n    callback\n) => {\n    const body = JSON.stringify({\n        ViewInput: {\n            identifier: `udw-locations-by-parent-location-id-${parentLocationId}`,\n            public: false,\n            LocationQuery: {\n                Criteria: {},\n                FacetBuilders: {},\n                SortClauses: sortClauses,\n                Filter: { ParentLocationIdCriterion: parentLocationId },\n                limit,\n                offset,\n            },\n        },\n    });\n    const request = new Request(ENDPOINT_CREATE_VIEW, {\n        method: 'POST',\n        headers: Object.assign({}, HEADERS_CREATE_VIEW, {\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        }),\n        body,\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then((json) =>\n            callback({\n                parentLocationId,\n                offset,\n                data: json,\n            })\n        )\n        .catch(showErrorNotification);\n};\n\n/**\n * Finds content matching a given text query\n *\n * @function findContentBySearchQuery\n * @param {Object} restInfo REST config hash containing: token and siteaccess properties\n * @param {String} query\n * @param {Function} callback\n * @param {Number} limit\n */\nexport const findContentBySearchQuery = ({ token, siteaccess }, query, callback, limit = QUERY_LIMIT) => {\n    const body = JSON.stringify({\n        ViewInput: {\n            identifier: `udw-locations-by-search-query-${query}`,\n            public: false,\n            LocationQuery: {\n                Criteria: {},\n                FacetBuilders: {},\n                SortClauses: {},\n                Query: { FullTextCriterion: query },\n                limit,\n                offset: 0,\n            },\n        },\n    });\n    const request = new Request(ENDPOINT_CREATE_VIEW, {\n        method: 'POST',\n        headers: Object.assign({}, HEADERS_CREATE_VIEW, {\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        }),\n        body,\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n/**\n * Loads content types\n *\n * @function loadContentTypes\n * @param {Object} restInfo REST config hash containing: token and siteaccess properties\n * @param {Function} callback\n */\nexport const loadContentTypes = ({ token, siteaccess }, callback) => {\n    const request = new Request('/api/ezp/v2/content/types', {\n        method: 'GET',\n        headers: {\n            Accept: 'application/vnd.ez.api.ContentTypeInfoList+json',\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/udw/services/universal.discovery.service.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../../../common/icon/icon';\n// import Icon from '../../../common/icon/icon';\n\nexport default class SelectContentButtonComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.toggleEnabledState = this.toggleEnabledState.bind(this);\n        this.handleSelect = this.handleSelect.bind(this);\n        this.handleUnselect = this.handleUnselect.bind(this);\n\n        this.state = {\n            selectContentEnabled: true,\n        };\n    }\n\n    componentDidMount() {\n        this.checkCanSelectContent();\n    }\n\n    componentDidUpdate() {\n        this.checkCanSelectContent();\n    }\n\n    checkCanSelectContent() {\n        const { location, canSelectContent } = this.props;\n\n        canSelectContent(location, this.toggleEnabledState);\n    }\n\n    toggleEnabledState(selectContentEnabled) {\n        if (this.state.selectContentEnabled === selectContentEnabled) {\n            return;\n        }\n\n        this.setState((state) => ({ ...state, selectContentEnabled }));\n    }\n\n    handleSelect(event) {\n        event.stopPropagation();\n\n        this.props.onSelectContent(this.props.location);\n    }\n\n    handleUnselect(event) {\n        event.stopPropagation();\n\n        this.props.onItemRemove(this.props.location.id);\n    }\n\n    render() {\n        const { multiple, isSelected } = this.props;\n        const iconId = isSelected ? 'checkmark' : 'create';\n        const attrs = {\n            type: 'button',\n            className: 'c-select-content-button',\n            onClick: isSelected ? this.handleUnselect : this.handleSelect,\n        };\n\n        if (!multiple || (!isSelected && !this.state.selectContentEnabled)) {\n            return null;\n        }\n\n        if (isSelected) {\n            attrs.className = `${attrs.className} ${attrs.className}--selected`;\n        }\n\n        return (\n            <button {...attrs}>\n                <Icon name={iconId} extraClasses=\"ez-icon--small\" />\n            </button>\n        );\n    }\n}\n\nSelectContentButtonComponent.propTypes = {\n    data: PropTypes.object.isRequired,\n    onPreview: PropTypes.func.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    onItemClick: PropTypes.func,\n    labels: PropTypes.shape({\n        contentTableItem: PropTypes.shape({\n            notAvailable: PropTypes.string.isRequired,\n        }).isRequired,\n    }).isRequired,\n    location: PropTypes.object.isRequired,\n    isSelected: PropTypes.bool.isRequired,\n    onSelectContent: PropTypes.func.isRequired,\n    canSelectContent: PropTypes.func.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n    multiple: PropTypes.bool.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/udw/tabs/browse/components/select-content-button/select.content.button.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst TabContentPanelComponent = (props) => {\n    const attrs = {\n        id: props.id,\n        className: 'c-tab-content-panel',\n    };\n\n    if (!props.isVisible) {\n        attrs.hidden = true;\n    }\n\n    return <div {...attrs}>{props.children}</div>;\n};\n\nTabContentPanelComponent.propTypes = {\n    id: PropTypes.string.isRequired,\n    isVisible: PropTypes.bool.isRequired,\n    children: PropTypes.node.isRequired,\n};\n\nexport default TabContentPanelComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/udw/common/tab-content-panel/tab.content.panel.component.js","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../../../common/icon/icon';\n\nexport default class ContentMetaPreviewComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { imageUri: '', translations: [] };\n\n        this.toggleBookmark = this.toggleBookmark.bind(this);\n    }\n\n    /**\n     * Renders an icon related to a content type\n     *\n     * @method renderIcon\n     * @returns {JSX.Element|null}\n     * @memberof ContentMetaPreviewComponent\n     */\n    renderIcon() {\n        const contentTypeInfo = this.props.data.ContentInfo.Content.ContentTypeInfo;\n\n        if (!contentTypeInfo) {\n            return null;\n        }\n\n        const contentTypeIdentifier = contentTypeInfo.identifier;\n        const contentTypeIconUrl = eZ.helpers.contentType.getContentTypeIconUrl(contentTypeIdentifier);\n\n        return <Icon customPath={contentTypeIconUrl} extraClasses=\"c-meta-preview__icon ez-icon--small\" />;\n    }\n\n    /**\n     * Gets image URI to image preview from content meta\n     *\n     * @method getImageUri\n     * @returns {String}\n     * @memberof ContentMetaPreviewComponent\n     */\n    getImageUri(data) {\n        if (!data || !data.CurrentVersion) {\n            return '';\n        }\n\n        const version = data.CurrentVersion.Version;\n        const imageField = version.Fields.field.find((field) => field.fieldTypeIdentifier === 'ezimage');\n\n        return imageField && imageField.fieldValue ? imageField.fieldValue.uri : '';\n    }\n\n    /**\n     * Gets list of translations from content meta\n     *\n     * @method getTranslations\n     * @returns {Array}\n     * @memberof ContentMetaPreviewComponent\n     */\n    getTranslations(data) {\n        if (!data || !data.CurrentVersion) {\n            return [];\n        }\n\n        const version = data.CurrentVersion.Version;\n        const versionLanguages = version.VersionInfo.VersionTranslationInfo.Language;\n\n        return versionLanguages.map((language) => this.props.languages.mappings[language.languageCode].name);\n    }\n\n    /**\n     * Renders a translation item\n     *\n     * @method renderTranslation\n     * @returns {Element}\n     * @memberof ContentMetaPreviewComponent\n     */\n    renderTranslation(translation, index) {\n        return (\n            <span key={index} className=\"c-meta-preview__translation\">\n                {translation}\n            </span>\n        );\n    }\n\n    /**\n     * Renders image preview\n     *\n     * @method renderImagePreview\n     * @returns {Element}\n     * @memberof ContentMetaPreviewComponent\n     */\n    renderImagePreview() {\n        const { data } = this.props;\n\n        if (!data.CurrentVersion) {\n            return <Icon name=\"spinner\" extraClasses=\"c-meta-preview__loading-spinner ez-spin ez-icon-x2 ez-icon-spinner\" />;\n        }\n\n        const imageUri = this.getImageUri(data);\n        const imagePreviewNotAvailableLabel = Translator.trans(\n            /*@Desc(\"Content preview is not available\")*/ 'content_meta_preview.image_preview_not_available.info',\n            {},\n            'universal_discovery_widget'\n        );\n\n        if (!imageUri.length) {\n            return <Fragment>{imagePreviewNotAvailableLabel}</Fragment>;\n        }\n\n        return <img className=\"c-meta-preview__image\" src={imageUri} alt=\"\" />;\n    }\n\n    /**\n     * Toggles bookmark\n     *\n     * @method toggleBookmark\n     * @memberof ContentMetaPreviewComponent\n     */\n    toggleBookmark() {\n        const { toggleBookmark, data } = this.props;\n\n        toggleBookmark(data);\n    }\n\n    /**\n     * Renders bookmark icon\n     *\n     * @method renderBookmarkIcon\n     * @memberof ContentMetaPreviewComponent\n     */\n    renderBookmarkIcon() {\n        const { isBookmarked } = this.props;\n\n        const bookmarkIconId = isBookmarked ? 'bookmark-active' : 'bookmark';\n        const action = isBookmarked ? 'remove' : 'add';\n        const wrapperClassName = `c-meta-preview__content-bookmark c-meta-preview__content-bookmark--${action}`;\n\n        return (\n            <div className={wrapperClassName} onClick={this.toggleBookmark} tabIndex=\"-1\">\n                <Icon name={bookmarkIconId} extraClasses=\"ez-icon--medium ez-icon--secondary\" />\n            </div>\n        );\n    }\n\n    render() {\n        const { data, maxHeight, isVisible } = this.props;\n\n        if (!isVisible) {\n            return null;\n        }\n\n        const content = data.ContentInfo.Content;\n        const contentTypeIdentifier = content.ContentTypeInfo.identifier;\n        const contentTypeName = window.eZ.adminUiConfig.contentTypeNames[contentTypeIdentifier];\n        const { formatShortDateTime } = window.eZ.helpers.timezone;\n        const translations = this.getTranslations(data);\n        const title = Translator.trans(/*@Desc(\"Content Meta Preview\")*/ 'content_meta_preview.title', {}, 'universal_discovery_widget');\n        const lastModifiedLabel = Translator.trans(\n            /*@Desc(\"Last modified\")*/ 'content_meta_preview.last_modified.label',\n            {},\n            'universal_discovery_widget'\n        );\n        const creationDateLabel = Translator.trans(\n            /*@Desc(\"Creation date\")*/ 'content_meta_preview.creation_date.label',\n            {},\n            'universal_discovery_widget'\n        );\n        const translationsLabel = Translator.trans(\n            /*@Desc(\"Translations\")*/ 'content_meta_preview.translations.label',\n            {},\n            'universal_discovery_widget'\n        );\n\n        return (\n            <div className=\"c-meta-preview__wrapper\" style={{ maxHeight: `${maxHeight}px` }}>\n                <h1 className=\"c-meta-preview__title\">{title}</h1>\n                <div className=\"c-meta-preview\">\n                    <div className=\"c-meta-preview__top-wrapper\">\n                        <div className=\"c-meta-preview__content-type\">\n                            {this.renderIcon()} {contentTypeName}\n                        </div>\n                        {this.renderBookmarkIcon()}\n                    </div>\n                    <div className=\"c-meta-preview__meta-wrapper\">\n                        <div className=\"c-meta-preview__image-wrapper\">{this.renderImagePreview()}</div>\n                        <div className=\"c-meta-preview__name\">{content.Name}</div>\n                        <div className=\"c-meta-preview__content-info\">\n                            <h3 className=\"c-meta-preview__subtitle\">{lastModifiedLabel}:</h3>\n                            {formatShortDateTime(new Date(content.lastModificationDate))}\n                        </div>\n                        <div className=\"c-meta-preview__content-info\">\n                            <h3 className=\"c-meta-preview__subtitle\">{creationDateLabel}:</h3>\n                            {formatShortDateTime(new Date(content.publishedDate))}\n                        </div>\n                        <div className=\"c-meta-preview__content-info\">\n                            <h3 className=\"c-meta-preview__subtitle\">{translationsLabel}:</h3>\n                            {translations.map(this.renderTranslation)}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nContentMetaPreviewComponent.propTypes = {\n    data: PropTypes.object.isRequired,\n    isBookmarked: PropTypes.bool,\n    toggleBookmark: PropTypes.func.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    restInfo: PropTypes.shape({\n        token: PropTypes.string.isRequired,\n        siteaccess: PropTypes.string.isRequired,\n    }).isRequired,\n    maxHeight: PropTypes.number.isRequired,\n    activeTab: PropTypes.string.isRequired,\n    languages: PropTypes.object.isRequired,\n    ready: PropTypes.bool.isRequired,\n};\n\nContentMetaPreviewComponent.defaultProps = {\n    isBookmarked: null,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/udw/tabs/browse/components/content-meta-preview/content.meta.preview.component.js"],"sourceRoot":""}
{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap cec976d50985480b37e9","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack:///./src/modules/common/icon/icon.js","webpack:///./src/modules/common/helpers/request.helper.js","webpack:///./src/modules/common/services/notification.service.js","webpack:///./src/modules/content-tree/content.tree.module.js","webpack:///./src/modules/content-tree/components/content-tree/content.tree.js","webpack:///./src/modules/content-tree/components/list/list.component.js","webpack:///./src/modules/content-tree/components/list-item/list.item.component.js","webpack:///./src/modules/content-tree/services/content.tree.service.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_1__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Icon","props","linkHref","customPath","className","extraClasses","_react2","default","createElement","xlinkHref","propTypes","PropTypes","string","isRequired","defaultProps","getBasicRequestInit","token","siteaccess","headers","X-Siteaccess","X-CSRF-Token","mode","credentials","handleRequestError","response","ok","Error","statusText","handleRequestResponse","json","handleRequestResponseStatus","status","NOTIFICATION_INFO_LABEL","NOTIFICATION_SUCCESS_LABEL","NOTIFICATION_WARNING_LABEL","NOTIFICATION_ERROR_LABEL","showNotification","detail","event","CustomEvent","document","body","dispatchEvent","showInfoNotification","message","label","showSuccessNotification","showWarningNotification","showErrorNotification","error","_react","_contentTree","findItem","items","path","isLast","length","item","find","element","locationId","parseInt","shift","Array","isArray","subitems","result","subitem","subitemPath","ContentTreeModule","Component","constructor","super","setInitialItemsState","bind","loadMoreSubitems","preloadedLocations","componentDidMount","loadLocationItems","rootLocationId","location","forceUpdate","parentLocationId","offset","limit","successCallback","updateLocationsStateAfterLoadingMoreItems","split","render","attrs","currentLocationId","_content2","eZ","addConfig","number","arrayOf","CLASS_IS_TREE_RESIZING","ContentTree","changeContainerWidth","addWidthChangeListener","removeWidthChangeListener","_refTreeContainer","React","createRef","state","resizeStartPositionX","containerWidth","resizedContainerWidth","isResizing","componentWillUnmount","clearDocumentResizingState","clientX","currentPositionX","setState","nativeEvent","window","getComputedStyle","current","width","addEventListener","classList","add","removeEventListener","remove","_state","_props","containerAttrs","ref","listAttrs","style","_list2","onMouseDown","array","func","List","listItemAttrs","map","itemPath","_listItem2","_extends","key","selected","ListItem","toggleExpandedState","cancelLoadingState","handleAfterExpandedStateChange","isExpanded","isLoading","childrenCount","console","log","checkCanLoadMore","_props2","renderIcon","_props3","contentType","iconAttrs","helpers","getContentTypeIconUrl","identifier","_icon2","renderLoadMoreBtn","loadingSpinner","type","onClick","_props4","children","hidden","href","content","itemAttrs","togglerAttrs","tabIndex","contentTypeIdentifier","bool","shape","id","container","_request","_notification","callback","request","Request","method","fetch","then","catch"],"mappings":"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","file":"ContentTree.module.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ContentTree\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"eZ\"] = root[\"eZ\"] || {}, root[\"eZ\"][\"modules\"] = root[\"eZ\"][\"modules\"] || {}, root[\"eZ\"][\"modules\"][\"ContentTree\"] = factory(root[\"React\"], root[\"PropTypes\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 60);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cec976d50985480b37e9","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 0\n// module chunks = 0 1 2 3","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}\n// module id = 1\n// module chunks = 0 1 2 3","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Icon = (props) => {\n    const linkHref = props.customPath ? props.customPath : `/bundles/ezplatformadminui/img/ez-icons.svg#${props.name}`;\n    let className = 'ez-icon';\n\n    if (props.extraClasses) {\n        className = `${className} ${props.extraClasses}`;\n    }\n\n    return (\n        <svg className={className}>\n            <use xlinkHref={linkHref} />\n        </svg>\n    );\n};\n\nIcon.propTypes = {\n    extraClasses: PropTypes.string.isRequired,\n    name: PropTypes.string,\n    customPath: PropTypes.string,\n};\n\nIcon.defaultProps = {\n    customPath: null,\n    name: null,\n};\n\nexport default Icon;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/icon/icon.js","/**\n * Returns basic RequestInit object for Request\n *\n * @function getBasicRequestInit\n * @param {Object} restInfo REST config hash containing: token and siteaccess properties\n * @returns {RequestInit}\n */\nexport const getBasicRequestInit = ({ token, siteaccess }) => {\n    return {\n        headers: {\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    };\n};\n\n/**\n * Handles request error\n *\n * @function handleRequestResponse\n * @param {Response} response\n * @returns {Response}\n */\nexport const handleRequestError = (response) => {\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n\n    return response;\n};\n\n/**\n * Handles request response\n *\n * @function handleRequestResponse\n * @param {Response} response\n * @returns {Error|Promise}\n */\nexport const handleRequestResponse = (response) => {\n    return handleRequestError(response).json();\n};\n\n/**\n * Handles request response; returns status if response is OK\n *\n * @function handleRequestResponseStatus\n * @param {Response} response\n * @returns {number}\n */\nexport const handleRequestResponseStatus = (response) => {\n    return handleRequestError(response).status;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/helpers/request.helper.js","export const NOTIFICATION_INFO_LABEL = 'info';\nexport const NOTIFICATION_SUCCESS_LABEL = 'success';\nexport const NOTIFICATION_WARNING_LABEL = 'warning';\nexport const NOTIFICATION_ERROR_LABEL = 'danger';\n\n/**\n * Dispatches notification event\n *\n * @method showNotification\n * @param {{message: string, label: string}} detail\n */\nexport const showNotification = (detail) => {\n    const event = new CustomEvent('ez-notify', {\n        detail,\n    });\n\n    document.body.dispatchEvent(event);\n};\n\n/**\n * Dispatches info notification event\n *\n * @method showInfoNotification\n * @param {String} message\n */\nexport const showInfoNotification = (message) => {\n    showNotification({\n        message,\n        label: NOTIFICATION_INFO_LABEL,\n    });\n};\n\n/**\n * Dispatches success notification event\n *\n * @method showSuccessNotification\n * @param {String} message\n */\nexport const showSuccessNotification = (message) => {\n    showNotification({\n        message,\n        label: NOTIFICATION_SUCCESS_LABEL,\n    });\n};\n\n/**\n * Dispatches warning notification event\n *\n * @method showWarningNotification\n * @param {String} message\n */\nexport const showWarningNotification = (message) => {\n    showNotification({\n        message,\n        label: NOTIFICATION_WARNING_LABEL,\n    });\n};\n\n/**\n * Dispatches error notification event\n *\n * @method showErrorNotification\n * @param {(string|Error)} error\n */\nexport const showErrorNotification = (error) => {\n    const isErrorObj = error instanceof Error;\n    const message = isErrorObj ? error.message : error;\n\n    showNotification({\n        message,\n        label: NOTIFICATION_ERROR_LABEL,\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/services/notification.service.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ContentTree from './components/content-tree/content.tree';\nimport { loadLocationItems } from './services/content.tree.service';\n\nconst findItem = (items, path) => {\n    const isLast = path.length === 1;\n    const item = items.find((element) => element.locationId === parseInt(path[0], 10));\n\n    if (!item) {\n        return null;\n    }\n\n    if (isLast) {\n        return item;\n    }\n\n    path.shift();\n\n    if (item.hasOwnProperty('subitems') && Array.isArray(item.subitems)) {\n        let result = null;\n        let subitem = null;\n        let subitemPath = [...path];\n\n        for (let i = 0; result === null && i < item.subitems.length; i++) {\n            subitem = item.subitems[i];\n\n            if (subitem.locationId === parseInt(subitemPath[0], 10)) {\n                result = subitem;\n            } else {\n                result = findItem(subitem.subitems, subitemPath);\n            }\n        }\n\n        return result;\n    }\n};\n\nexport default class ContentTreeModule extends Component {\n    constructor(props) {\n        super(props);\n\n        this.setInitialItemsState = this.setInitialItemsState.bind(this);\n        this.loadMoreSubitems = this.loadMoreSubitems.bind(this);\n        this.items = props.preloadedLocations;\n    }\n\n    componentDidMount() {\n        if (this.items.length) {\n            return;\n        }\n\n        loadLocationItems(this.props.rootLocationId, this.setInitialItemsState);\n    }\n\n    setInitialItemsState(location) {\n        this.items = [location];\n\n        this.forceUpdate();\n    }\n\n    loadMoreSubitems({ parentLocationId, offset, limit, path }, successCallback) {\n        loadLocationItems(\n            parentLocationId,\n            this.updateLocationsStateAfterLoadingMoreItems.bind(this, path, successCallback),\n            limit,\n            offset\n        );\n    }\n\n    updateLocationsStateAfterLoadingMoreItems(path, successCallback, location) {\n        const item = findItem(this.items, path.split(','));\n\n        if (!item) {\n            return;\n        }\n\n        item.subitems = [...item.subitems, ...location.subitems];\n\n        successCallback();\n        this.forceUpdate();\n    }\n\n    render() {\n        const attrs = {\n            items: this.items,\n            currentLocationId: this.props.currentLocationId,\n            loadMoreSubitems: this.loadMoreSubitems,\n        };\n\n        return <ContentTree {...attrs} />;\n    }\n}\n\neZ.addConfig('modules.ContentTree', ContentTreeModule);\n\nContentTreeModule.propTypes = {\n    rootLocationId: PropTypes.number.isRequired,\n    currentLocationId: PropTypes.number.isRequired,\n    preloadedLocations: PropTypes.arrayOf(PropTypes.object),\n};\n\nContentTreeModule.defaultProps = {\n    rootLocationId: 2,\n    preloadedLocations: [],\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/content-tree/content.tree.module.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport List from '../list/list.component';\n\nconst CLASS_IS_TREE_RESIZING = 'ez-is-tree-resizing';\n\nexport default class ContentTree extends Component {\n    constructor(props) {\n        super(props);\n\n        this.changeContainerWidth = this.changeContainerWidth.bind(this);\n        this.addWidthChangeListener = this.addWidthChangeListener.bind(this);\n        this.removeWidthChangeListener = this.removeWidthChangeListener.bind(this);\n        this._refTreeContainer = React.createRef();\n\n        this.state = {\n            resizeStartPositionX: 0,\n            containerWidth: 0,\n            resizedContainerWidth: 0,\n            isResizing: false,\n        };\n    }\n\n    componentWillUnmount() {\n        this.clearDocumentResizingState();\n    }\n\n    changeContainerWidth({ clientX }) {\n        const currentPositionX = clientX;\n\n        this.setState((state) => ({\n            resizedContainerWidth: state.containerWidth + (currentPositionX - state.resizeStartPositionX),\n        }));\n    }\n\n    addWidthChangeListener({ nativeEvent }) {\n        const resizeStartPositionX = nativeEvent.clientX;\n        const containerWidth = parseInt(window.getComputedStyle(this._refTreeContainer.current).width, 10);\n\n        window.document.addEventListener('mousemove', this.changeContainerWidth, false);\n        window.document.addEventListener('mouseup', this.removeWidthChangeListener, false);\n        window.document.body.classList.add(CLASS_IS_TREE_RESIZING);\n\n        this.setState(() => ({ resizeStartPositionX, containerWidth, isResizing: true }));\n    }\n\n    removeWidthChangeListener() {\n        this.clearDocumentResizingState();\n\n        this.setState((state) => ({\n            resizeStartPositionX: 0,\n            containerWidth: state.resizedContainerWidth,\n            isResizing: false,\n        }));\n    }\n\n    clearDocumentResizingState() {\n        window.document.removeEventListener('mousemove', this.changeContainerWidth);\n        window.document.removeEventListener('mouseup', this.removeWidthChangeListener);\n        window.document.body.classList.remove(CLASS_IS_TREE_RESIZING);\n    }\n\n    render() {\n        const { isResizing, containerWidth, resizedContainerWidth } = this.state;\n        const { items, loadMoreSubitems, currentLocationId } = this.props;\n        const width = isResizing ? resizedContainerWidth : containerWidth;\n        const containerAttrs = { className: 'm-tree', ref: this._refTreeContainer };\n        const listAttrs = { items, loadMoreSubitems, currentLocationId };\n\n        if (width) {\n            containerAttrs.style = { width: `${width}px` };\n        }\n\n        return (\n            <div {...containerAttrs}>\n                <List {...listAttrs} />\n                <div className=\"m-tree__resize-handler\" onMouseDown={this.addWidthChangeListener} />\n            </div>\n        );\n    }\n}\n\nContentTree.propTypes = {\n    items: PropTypes.array.isRequired,\n    loadMoreSubitems: PropTypes.func.isRequired,\n    currentLocationId: PropTypes.number.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/content-tree/components/content-tree/content.tree.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ListItem from '../list-item/list.item.component';\n\nconst List = ({ items, loadMoreSubitems, currentLocationId, path }) => {\n    const listAttrs = { loadMoreSubitems, currentLocationId };\n    const listItemAttrs = { loadMoreSubitems };\n\n    return (\n        <ul className=\"c-list\">\n            {items.map((item) => {\n                const hasPreviousPath = path && path.length;\n                const itemPath = `${hasPreviousPath ? path + ',' : ''}${item.locationId}`;\n\n                return (\n                    <ListItem\n                        {...item}\n                        {...listItemAttrs}\n                        key={item.locationId}\n                        selected={item.locationId === currentLocationId}\n                        path={itemPath}>\n                        {item.subitems.length ? <List path={itemPath} items={item.subitems} {...listAttrs} /> : null}\n                    </ListItem>\n                );\n            })}\n        </ul>\n    );\n};\n\nList.propTypes = {\n    path: PropTypes.string.isRequired,\n    items: PropTypes.array.isRequired,\n    loadMoreSubitems: PropTypes.func.isRequired,\n    currentLocationId: PropTypes.number.isRequired,\n};\n\nexport default List;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/content-tree/components/list/list.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nclass ListItem extends Component {\n    constructor(props) {\n        super(props);\n\n        this.toggleExpandedState = this.toggleExpandedState.bind(this);\n        this.cancelLoadingState = this.cancelLoadingState.bind(this);\n        this.loadMoreSubitems = this.loadMoreSubitems.bind(this);\n        this.handleAfterExpandedStateChange = this.handleAfterExpandedStateChange.bind(this);\n\n        this.state = {\n            isExpanded: false,\n            isLoading: false,\n        };\n    }\n\n    cancelLoadingState() {\n        this.setState(() => ({ isLoading: false }));\n    }\n\n    toggleExpandedState() {\n        this.setState((state, props) => {\n            const isLoading = !state.isExpanded && props.childrenCount > props.subitems.length;\n            const newState = { isExpanded: !state.isExpanded, isLoading };\n\n            return newState;\n        }, this.handleAfterExpandedStateChange);\n    }\n\n    handleAfterExpandedStateChange() {\n        if (this.props.childrenCount === this.props.subitems.length) {\n            return;\n        }\n\n        if (!this.state.isLoading) {\n            console.log('TODO: Think about killing a request with AbortController');\n\n            return;\n        }\n\n        this.loadMoreSubitems();\n    }\n\n    loadMoreSubitems() {\n        const { subitems, path, locationId, loadMoreSubitems } = this.props;\n\n        this.setState(\n            () => ({ isLoading: true }),\n            () =>\n                loadMoreSubitems(\n                    {\n                        path,\n                        parentLocationId: locationId,\n                        offset: subitems.length,\n                        limit: 10,\n                    },\n                    this.cancelLoadingState\n                )\n        );\n    }\n\n    checkCanLoadMore() {\n        const { subitems, childrenCount } = this.props;\n\n        return subitems.length < childrenCount;\n    }\n\n    /**\n     * Renders an icon of a content type\n     *\n     * @method renderIcon\n     * @returns {JSX.Element}\n     */\n    renderIcon() {\n        const { contentType, selected } = this.props;\n        const iconAttrs = {\n            extraClasses: `ez-icon--small ez-icon--${selected ? 'light' : 'dark'}`,\n        };\n\n        if (!this.state.isLoading) {\n            iconAttrs.customPath =\n                eZ.helpers.contentType.getContentTypeIconUrl(contentType.identifier) ||\n                eZ.helpers.contentType.getContentTypeIconUrl('file');\n        } else {\n            iconAttrs.name = 'spinner';\n            iconAttrs.extraClasses = `${iconAttrs.extraClasses} ez-spin`;\n        }\n\n        return (\n            <span className=\"c-list-item__icon\">\n                <Icon {...iconAttrs} />\n            </span>\n        );\n    }\n\n    renderLoadMoreBtn() {\n        let loadingSpinner = null;\n\n        if (!this.state.isExpanded || !this.checkCanLoadMore()) {\n            return null;\n        }\n\n        if (this.state.isLoading) {\n            loadingSpinner = <Icon name=\"spinner\" extraClasses=\"ez-spin ez-icon--small ez-icon--dark\" />;\n        }\n\n        return (\n            <button type=\"button\" className=\"c-list-item__load-more-btn btn ez-btn\" onClick={this.loadMoreSubitems}>\n                {loadingSpinner} Load more\n            </button>\n        );\n    }\n\n    render() {\n        const { childrenCount, children, hidden, selected, href, content } = this.props;\n        const itemClassName = 'c-list-item';\n        const togglerClassName = 'c-list-item__toggler';\n        const itemAttrs = { className: itemClassName };\n        const togglerAttrs = {\n            className: togglerClassName,\n            onClick: this.toggleExpandedState,\n            hidden: !childrenCount,\n            tabIndex: -1,\n        };\n\n        if (childrenCount) {\n            itemAttrs.className = `${itemAttrs.className} ${itemClassName}--has-sub-items`;\n        }\n\n        if (this.checkCanLoadMore()) {\n            itemAttrs.className = `${itemAttrs.className} ${itemClassName}--can-load-more`;\n        }\n\n        if (this.state.isExpanded) {\n            itemAttrs.className = `${itemAttrs.className} ${itemClassName}--is-expanded`;\n        }\n\n        if (hidden) {\n            itemAttrs.className = `${itemAttrs.className} ${itemClassName}--is-hidden`;\n        }\n\n        if (selected) {\n            itemAttrs.className = `${itemAttrs.className} ${itemClassName}--is-selected`;\n            togglerAttrs.className = `${togglerAttrs.className} ${togglerClassName}--light`;\n        }\n\n        return (\n            <li {...itemAttrs}>\n                <div className=\"c-list-item__label\">\n                    <span {...togglerAttrs} />\n                    <a className=\"c-list-item__link\" href={href}>\n                        {this.renderIcon()} {content.name}\n                    </a>\n                </div>\n                {children}\n                {this.renderLoadMoreBtn()}\n            </li>\n        );\n    }\n}\n\nListItem.propTypes = {\n    path: PropTypes.string.isRequired,\n    href: PropTypes.string.isRequired,\n    contentTypeIdentifier: PropTypes.string.isRequired,\n    childrenCount: PropTypes.number.isRequired,\n    subitems: PropTypes.array.isRequired,\n    children: PropTypes.element,\n    hidden: PropTypes.bool.isRequired,\n    selected: PropTypes.bool.isRequired,\n    content: PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        id: PropTypes.number.isRequired,\n    }).isRequired,\n    contentType: PropTypes.shape({\n        identifier: PropTypes.string.isRequired,\n        container: PropTypes.bool.isRequired,\n    }).isRequired,\n    locationId: PropTypes.number.isRequired,\n    loadMoreSubitems: PropTypes.func.isRequired,\n};\n\nListItem.defaultProps = {\n    hidden: false,\n};\n\nexport default ListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/content-tree/components/list-item/list.item.component.js","import { handleRequestResponse } from '../../common/helpers/request.helper';\nimport { showErrorNotification } from '../../common/services/notification.service';\n\nexport const loadLocationItems = (parentLocationId, callback, limit = 50, offset = 0) => {\n    const request = new Request(`/admin/location/tree/load-subitems/${parentLocationId}/${limit}/${offset}`, {\n        method: 'GET',\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/content-tree/services/content.tree.service.js"],"sourceRoot":""}
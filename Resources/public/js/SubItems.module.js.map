{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 7a452a89116bbe9d8d50","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack:///./src/modules/common/icon/icon.js","webpack:///./src/modules/common/helpers/request.helper.js","webpack:///./src/modules/common/helpers/deep.clone.helper.js","webpack:///./src/modules/common/popup/popup.component.js","webpack:///external {\"root\":\"jQuery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}","webpack:///./src/modules/sub-items/components/table-view/table.view.component.js","webpack:///./src/modules/sub-items/sub.items.module.js","webpack:///external {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\"}","webpack:///./src/modules/sub-items/components/view-switcher/view.switcher.component.js","webpack:///./src/modules/sub-items/components/view-switcher/view.switcher.button.component.js","webpack:///./src/modules/sub-items/components/sub-items-list/sub.items.list.component.js","webpack:///./src/modules/sub-items/components/table-view/table.view.item.component.js","webpack:///./src/modules/sub-items/components/table-view/table.view.columns.toggler.js","webpack:///./src/modules/sub-items/components/table-view/table.view.columns.toggler.list.element.js","webpack:///./src/modules/sub-items/components/grid-view/grid.view.component.js","webpack:///./src/modules/sub-items/components/grid-view/grid.view.item.component.js","webpack:///./src/modules/sub-items/components/action-btn/action.btn.js","webpack:///./src/modules/sub-items/components/pagination/pagination.component.js","webpack:///./src/modules/sub-items/components/pagination/pagination.button.component.js","webpack:///./src/modules/sub-items/components/no-items/no.items.component.js","webpack:///./src/modules/sub-items/services/sub.items.service.js","webpack:///./src/modules/sub-items/services/bulk.service.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_11__","__WEBPACK_EXTERNAL_MODULE_20__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","__WEBPACK_IMPORTED_MODULE_1_prop_types__","__WEBPACK_IMPORTED_MODULE_1_prop_types___default","Icon","props","linkHref","customPath","concat","className","extraClasses","a","createElement","xlinkHref","propTypes","PropTypes","string","isRequired","defaultProps","__webpack_exports__","token","siteaccess","headers","X-Siteaccess","X-CSRF-Token","mode","credentials","handleRequestError","response","ok","Error","statusText","json","status","deepClone","data","clonedData","toString","apply","length","CLASS_NON_SCROLLABLE","CLASS_MODAL_OPEN","MODAL_CONFIG","backdrop","keyboard","MODAL_SIZE_CLASS","small","medium","large","Popup","Component","constructor","super","_refModal","setModalRef","bind","onKeyUp","state","isVisible","isLoading","componentDidMount","show","$","modal","_objectSpread","focus","hasFocus","attachModalEventHandlers","componentDidUpdate","componentWillUnmount","document","body","classList","remove","UNSAFE_componentWillReceiveProps","onConfigIframeLoad","setState","on","one","onClose","event","originalEvent","which","keyCode","component","renderHeader","closeBtnLabel","Translator","trans","renderHeadline","type","data-dismiss","aria-label","onClick","__WEBPACK_IMPORTED_MODULE_3__icon_icon__","title","renderSubtitle","subtitle","renderFooter","footerChildren","render","additionalClasses","size","noHeader","modalAttrs","ref","tabIndex","undefined","toggle","role","children","bool","func","element","KEY_CONTENT_NAME","KEY_DATE_MODIFIED","KEY_LOCATION_PRIORITY","SORTKEY_MAP","[object Object]","COLUMNS_VISIBILITY_LOCAL_STORAGE_DATA_KEY","DEFAULT_COLUMNS_VISIBILITY","modified","contentType","priority","translations","TABLE_CELL_CLASS","TABLE_HEAD_CLASS","TABLE_CELL_SORT_CLASS","headerLabels","TableViewComponent","sortByName","sortByDate","sortByPriority","renderItem","selectAll","setColumnsVisibilityInLocalStorage","toggleColumnVisibility","_refColumnsTogglerButton","createRef","columnsVisibility","getColumnsVisibilityFromLocalStorage","columnsVisibilityData","localStorage","getItem","JSON","parse","stringify","setItem","onSortChange","toggleAllItemsSelect","target","checked","column","contentTypesMap","handleItemPriorityUpdate","handleEditItem","generateLink","languages","onItemSelect","selectedLocationsIds","isSelected","has","location","id","__WEBPACK_IMPORTED_MODULE_2__table_view_item_component__","_extends","key","onItemPriorityUpdate","renderModifiedHeader","renderContentTypeHeader","renderPriorityHeader","renderTranslationsHeader","renderHead","items","headClass","sortClause","sortOrder","headSortOrderClass","headSortByClass","anyLocationSelected","onChange","__WEBPACK_IMPORTED_MODULE_3__table_view_columns_toggler__","content","map","arrayOf","instanceOf","Set","ASCENDING_SORT_ORDER","DESCENDING_SORT_ORDER","DEFAULT_SORT_ORDER","SubItemsModule","afterPriorityUpdated","loadContentItems","loadContentTypes","updateItemsState","switchView","toggleItemSelection","toggleAllPageItemsSelection","onMoveBtnClick","closeUdw","onUdwConfirm","onDeleteBtnClick","closeBulkDeletePopup","onBulkDeletePopupConfirm","afterBulkDelete","changePage","changeSorting","_refListViewWrapper","React","bulkDeleteModalContainer","udwContainer","sortClauseData","getDefaultSortClause","sortClauses","activeView","activePageItems","selectedItems","Map","totalCount","offset","isDuringBulkOperation","isUdwOpened","isBulkDeletePopupVisible","activePageIndex","listViewHeight","order","getElementById","add","appendChild","limit","itemsPerPage","pagesCount","Math","ceil","loadPage","removeChild","objKeys","keys","updateListViewHeight","current","offsetHeight","pageIndex","loadLocation","then","catch","errorMessage","window","eZ","helpers","notification","showErrorNotification","restInfo","parentLocationId","locationId","queryConfig","Promise","resolve","loadContentInfo","View","invalidResponseFormatMessage","locations","Result","searchHits","searchHit","contentIds","item","value","Location","ContentInfo","Content","_id","contentInfo","count","contentItems","itemsData","promises","contentTypeId","ContentType","_href","loadContentType","all","contentTypes","pageItems","itemLocation","respectiveContent","find","buildContentTypesMap","reduce","total","updateTotalCountState","discardActivePageItems","getSortOrder","newSortClause","currentSortOrder","getOppositeSortOrder","updateLocationPriority","updateItemLocation","itemIndex","findIndex","updatedItem","updatedPageItems","updatedSelectedItems","set","delete","select","selectItems","locationsIds","locationsIdsSet","deselectItems","itemsToSelect","newSelectedItems","newSelection","filter","deselectAllItems","toggleBulkOperationStatusState","toggleUdw","bulkMove","locationsToMove","values","bulkMoveLocations","afterBulkMove","movedLocations","notMovedLocations","refreshContentTree","modalTableTitle","itemsCount","notificationMessage","notMovedCount","rawPlaceholdersMap","moreInformationLink","handleBulkOperationFailedNotification","message","locationLink","locationName","text","escapeHTML","Name","locationHref","showSuccessNotification","selectedLocation","renderUdw","UniversalDiscovery","udwConfigBulkMoveItems","excludedMoveLocations","udwProps","onCancel","onConfirm","canSelectContent","callback","includes","ReactDOM","createPortal","toggleBulkDeletePopup","bulkDelete","locationsToDelete","bulkMoveLocationsToTrash","deletedLocations","notDeletedLocations","notDeletedCount","failedLocations","failedItemsData","contentTypeIdentifier","identifier","contentTypeName","adminUiConfig","contentTypeNames","contentName","showWarningNotification","notificationNode","showModalBtn","querySelector","addEventListener","showBulkActionFailedModal","dispatchEvent","CustomEvent","renderConfirmationPopupFooter","cancelLabel","confirmLabel","renderConfirmationPopup","confirmationMessage","__WEBPACK_IMPORTED_MODULE_5__common_popup_popup_component__","getPageSelectedLocationsIds","pageLocationsIds","renderExtraActions","action","index","Action","attrs","renderPaginationInfo","viewingCount","dangerouslySetInnerHTML","__html","renderPagination","isPaginationDisabled","__WEBPACK_IMPORTED_MODULE_7__components_pagination_pagination_component_js__","proximity","onPageChange","disabled","renderBulkMoveBtn","label","__WEBPACK_IMPORTED_MODULE_6__components_action_btn_action_btn_js__","renderBulkDeleteBtn","renderSpinner","style","height","__WEBPACK_IMPORTED_MODULE_9__common_icon_icon_js__","renderNoItems","__WEBPACK_IMPORTED_MODULE_8__components_no_items_no_items_component_js__","renderListView","selectedPageLocationsIds","__WEBPACK_IMPORTED_MODULE_4__components_sub_items_list_sub_items_list_component_js__","listTitle","bulkBtnDisabled","listClassName","extraActions","__WEBPACK_IMPORTED_MODULE_3__components_view_switcher_view_switcher_component_js__","onViewChange","isDisabled","addConfig","number","shape","parseInt","subItems","__WEBPACK_IMPORTED_MODULE_2__view_switcher_button_component__","ViewSwitcherComponent","componentClassName","listViewBtnLabel","gridViewBtnLabel","icon","__WEBPACK_IMPORTED_MODULE_2__common_icon_icon__","ViewSwitcherButton","iconAttrs","__WEBPACK_IMPORTED_MODULE_2__table_view_table_view_component_js__","__WEBPACK_IMPORTED_MODULE_3__grid_view_grid_view_component_js__","views","table","grid","GridViewComponent","SubItemsListComponent","TableViewItemComponent","PureComponent","storePriorityValue","enablePriorityInput","handleSubmit","handleCancel","handleEdit","onSelectCheckboxChange","setPriorityInputRef","_refPriorityInput","priorityValue","priorityInputEnabled","startingPriorityValue","preventDefault","renderPriorityCell","inputAttrs","defaultValue","priorityWrapperAttrs","innerWrapperAttrs","hidden","renderModifiedCell","formatShortDateTime","timezone","Date","lastModificationDate","renderContentTypeCell","notAvailableLabel","renderTranslationsCell","CurrentVersion","Version","VersionInfo","VersionTranslationInfo","Language","langauge","mappings","languageCode","renderTranslation","translation","editLabel","linkAttrs","href","contentTypeIconUrl","getContentTypeIconUrl","__WEBPACK_IMPORTED_MODULE_3__table_view_columns_toggler_list_element__","__WEBPACK_IMPORTED_MODULE_4__table_view_component__","DEFAULT_PANEL_HEIGHT","TableViewColumnsTogglerComponent","togglePanel","hidePanel","_refTogglerButton","_refPanel","isOpen","buttonBottomDocumentOffset","panelHeight","getBtnBottomDocumentOffset","removeEventListener","buttonTopOffset","getBoundingClientRect","top","scrollY","documentElement","scrollHeight","closest","renderPanel","measuredPanelHeight","panelAttrs","entries","columnKey","isColumnVisible","TableViewColumnsTogglerListElement","readOnly","__WEBPACK_IMPORTED_MODULE_2__grid_view_item_component__","GridViewItemComponent","imageField","Fields","field","fieldTypeIdentifier","hasImage","fieldValue","uri","path","image","contentTypeIcon","src","alt","ActionButton","__WEBPACK_IMPORTED_MODULE_2__pagination_button_component__","PaginationComponent","paginationDisabled","backLabel","nextLabel","previousPage","nextPage","isFirstPage","isLastPage","paginationButtons","pages","wereDots","push","computePages","page","PaginationButtonComponent","Number","isInteger","NoItemsComponent","noItemsMessage","HEADERS_CREATE_VIEW","Accept","Content-Type","ViewInput","public","LocationQuery","Criteria","FacetBuilders","SortClauses","Filter","ParentLocationIdCriterion","request","Request","method","fetch","handleRequestResponse","ids","join","ContentQuery","ContentIdCriterion","X-HTTP-Method-Override","LocationUpdate","sortField","HEADERS_BULK","newLocationHref","requestBodyOperations","getBulkMoveRequestOperations","makeBulkRequest","processBulkResponse","destination","operations","forEach","Destination","BulkOperationResponse","locationsMatches","respectiveItem","statusCode","success","fail","bulkOperations"],"mappings":"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","file":"SubItems.module.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"), require(\"jquery\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\", \"jquery\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SubItems\"] = factory(require(\"react\"), require(\"prop-types\"), require(\"jquery\"), require(\"react-dom\"));\n\telse\n\t\troot[\"eZ\"] = root[\"eZ\"] || {}, root[\"eZ\"][\"modules\"] = root[\"eZ\"][\"modules\"] || {}, root[\"eZ\"][\"modules\"][\"SubItems\"] = factory(root[\"React\"], root[\"PropTypes\"], root[\"jQuery\"], root[\"ReactDOM\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_20__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7a452a89116bbe9d8d50","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 0\n// module chunks = 0 1 2 3 4 5 6 7","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}\n// module id = 1\n// module chunks = 0 1 2 3 4 5","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Icon = (props) => {\n    const linkHref = props.customPath ? props.customPath : `/bundles/ezplatformadminui/img/ez-icons.svg#${props.name}`;\n    let className = 'ez-icon';\n\n    if (props.extraClasses) {\n        className = `${className} ${props.extraClasses}`;\n    }\n\n    return (\n        <svg className={className}>\n            <use xlinkHref={linkHref} />\n        </svg>\n    );\n};\n\nIcon.propTypes = {\n    extraClasses: PropTypes.string.isRequired,\n    name: PropTypes.string,\n    customPath: PropTypes.string,\n};\n\nIcon.defaultProps = {\n    customPath: null,\n    name: null,\n};\n\nexport default Icon;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/icon/icon.js","/**\n * Returns basic RequestInit object for Request\n *\n * @function getBasicRequestInit\n * @param {Object} restInfo REST config hash containing: token and siteaccess properties\n * @returns {RequestInit}\n */\nexport const getBasicRequestInit = ({ token, siteaccess }) => {\n    return {\n        headers: {\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    };\n};\n\n/**\n * Handles request error\n *\n * @function handleRequestResponse\n * @param {Response} response\n * @returns {Response}\n */\nexport const handleRequestError = (response) => {\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n\n    return response;\n};\n\n/**\n * Handles request response\n *\n * @function handleRequestResponse\n * @param {Response} response\n * @returns {Error|Promise}\n */\nexport const handleRequestResponse = (response) => {\n    return handleRequestError(response).json();\n};\n\n/**\n * Handles request response; returns status if response is OK\n *\n * @function handleRequestResponseStatus\n * @param {Response} response\n * @returns {number}\n */\nexport const handleRequestResponseStatus = (response) => {\n    return handleRequestError(response).status;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/helpers/request.helper.js","/**\n * Clones any object. Faster alternative to `JSON.parse(JSON.stringify)`\n *\n * @function deepClone\n * @param {Any} data\n * @returns {Any} cloned data\n */\nconst deepClone = (data) => {\n    let clonedData;\n\n    if (typeof data !== 'object') {\n        return data;\n    }\n\n    if (!data) {\n        return data;\n    }\n\n    if (Object.prototype.toString.apply(data) === '[object Array]') {\n        clonedData = [];\n\n        for (let i = 0; i < data.length; i++) {\n            clonedData[i] = deepClone(data[i]);\n        }\n\n        return clonedData;\n    }\n\n    clonedData = {};\n\n    for (let i in data) {\n        if (data.hasOwnProperty(i)) {\n            clonedData[i] = deepClone(data[i]);\n        }\n    }\n\n    return clonedData;\n};\n\nexport default deepClone;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/helpers/deep.clone.helper.js","import React, { Component } from 'react';\nimport $ from 'jquery';\nimport PropTypes from 'prop-types';\nimport Icon from '../icon/icon';\n\nconst CLASS_NON_SCROLLABLE = 'ezs-non-scrollable';\nconst CLASS_MODAL_OPEN = 'modal-open';\nconst MODAL_CONFIG = {\n    backdrop: 'static',\n    keyboard: true,\n};\nconst MODAL_SIZE_CLASS = {\n    small: 'modal-sm',\n    medium: '',\n    large: 'modal-lg',\n};\n\nclass Popup extends Component {\n    constructor(props) {\n        super(props);\n\n        this._refModal = null;\n\n        this.setModalRef = this.setModalRef.bind(this);\n        this.onKeyUp = this.onKeyUp.bind(this);\n\n        this.state = { isVisible: props.isVisible, isLoading: props.isLoading };\n    }\n\n    componentDidMount() {\n        const { isVisible: show } = this.state;\n\n        if (show) {\n            $(this._refModal).modal({ ...MODAL_CONFIG, show, focus: this.props.hasFocus });\n\n            this.attachModalEventHandlers();\n        }\n    }\n\n    componentDidUpdate() {\n        const { isVisible: show } = this.state;\n\n        $(this._refModal).modal({ ...MODAL_CONFIG, show, focus: this.props.hasFocus });\n\n        if (show) {\n            this.attachModalEventHandlers();\n        }\n    }\n\n    componentWillUnmount() {\n        $(this._refModal).modal('hide');\n        document.body.classList.remove(CLASS_MODAL_OPEN, CLASS_NON_SCROLLABLE);\n    }\n\n    UNSAFE_componentWillReceiveProps({ isVisible, onConfigIframeLoad, isLoading }) {\n        this.setState((state) => ({ ...state, isVisible, onConfigIframeLoad, isLoading }));\n    }\n\n    attachModalEventHandlers() {\n        const modal = $(this._refModal);\n\n        modal.on('keyup', this.onKeyUp);\n        modal.one('hidden.bs.modal', this.props.onClose);\n    }\n\n    onKeyUp(event) {\n        const { originalEvent } = event;\n        const escKeyCode = 27;\n        const escKeyPressed = originalEvent && (originalEvent.which === escKeyCode || originalEvent.keyCode === escKeyCode);\n\n        if (escKeyPressed) {\n            this.props.onClose();\n        }\n    }\n\n    setModalRef(component) {\n        this._refModal = component;\n    }\n\n    renderHeader() {\n        const closeBtnLabel = Translator.trans(/*@Desc(\"Close\")*/ 'popup.close.label', {}, 'universal_discovery_widget');\n\n        return (\n            <div className={'modal-header c-popup__header'}>\n                {this.renderHeadline()}\n                <button\n                    type=\"button\"\n                    className=\"close c-popup__btn--close\"\n                    data-dismiss=\"modal\"\n                    aria-label={closeBtnLabel}\n                    onClick={this.props.onClose}>\n                    <Icon name=\"discard\" extraClasses=\"ez-icon--medium\" />\n                </button>\n            </div>\n        );\n    }\n\n    renderHeadline() {\n        const { title } = this.props;\n\n        if (!title) {\n            return null;\n        }\n\n        return (\n            <h3 className=\"modal-title c-popup__headline\" title={this.props.title}>\n                <span className=\"c-popup__title\">{this.props.title}</span>\n                {this.renderSubtitle()}\n            </h3>\n        );\n    }\n\n    renderSubtitle() {\n        const { subtitle } = this.props;\n\n        if (!subtitle) {\n            return null;\n        }\n\n        return <span className=\"c-popup__subtitle\">{subtitle}</span>;\n    }\n\n    renderFooter() {\n        const { footerChildren } = this.props;\n\n        if (!footerChildren) {\n            return;\n        }\n\n        return <div className={'modal-footer c-popup__footer'}>{footerChildren}</div>;\n    }\n\n    render() {\n        const { isVisible } = this.state;\n        const { additionalClasses, size, noHeader } = this.props;\n        const modalAttrs = {\n            className: 'c-popup modal fade',\n            ref: this.setModalRef,\n            tabIndex: this.props.hasFocus ? -1 : undefined,\n        };\n\n        document.body.classList.toggle(CLASS_MODAL_OPEN, isVisible);\n        document.body.classList.toggle(CLASS_NON_SCROLLABLE, isVisible);\n\n        if (additionalClasses) {\n            modalAttrs.className = `${modalAttrs.className} ${additionalClasses}`;\n        }\n\n        if (noHeader) {\n            modalAttrs.className = `${modalAttrs.className} c-popup--no-header`;\n        }\n\n        return (\n            <div {...modalAttrs}>\n                <div className={`modal-dialog c-popup__dialog ${MODAL_SIZE_CLASS[size]}`} role=\"dialog\">\n                    <div className=\"modal-content c-popup__content\">\n                        {this.renderHeader()}\n                        <div className=\"modal-body c-popup__body\">{this.props.children}</div>\n                        {this.renderFooter()}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nPopup.propTypes = {\n    isVisible: PropTypes.bool,\n    // to be removed in v3.0\n    isLoading: PropTypes.bool,\n    onClose: PropTypes.func.isRequired,\n    // to be removed in v3.0\n    onConfigIframeLoad: PropTypes.func,\n    children: PropTypes.element.isRequired,\n    title: PropTypes.string,\n    subtitle: PropTypes.string,\n    hasFocus: PropTypes.bool,\n    additionalClasses: PropTypes.string,\n    footerChildren: PropTypes.element,\n    size: PropTypes.string,\n    noHeader: PropTypes.bool,\n};\n\nPopup.defaultProps = {\n    isVisible: false,\n    isLoading: true,\n    hasFocus: true,\n    size: 'large',\n    noHeader: false,\n    onConfigIframeLoad: () => {},\n};\n\nexport default Popup;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/popup/popup.component.js","module.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"jQuery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}\n// module id = 11\n// module chunks = 1 5","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport TableViewItemComponent from './table.view.item.component';\nimport TableViewColumnsTogglerComponent from './table.view.columns.toggler';\n\nconst KEY_CONTENT_NAME = 'ContentName';\nconst KEY_DATE_MODIFIED = 'DateModified';\nconst KEY_LOCATION_PRIORITY = 'LocationPriority';\nconst SORTKEY_MAP = {\n    [KEY_CONTENT_NAME]: 'name',\n    [KEY_DATE_MODIFIED]: 'date',\n    [KEY_LOCATION_PRIORITY]: 'priority',\n};\nconst COLUMNS_VISIBILITY_LOCAL_STORAGE_DATA_KEY = 'sub-items_columns-visibility';\nconst DEFAULT_COLUMNS_VISIBILITY = {\n    modified: true,\n    contentType: true,\n    priority: true,\n    translations: true,\n};\nconst TABLE_CELL_CLASS = 'c-table-view__cell';\nconst TABLE_HEAD_CLASS = `${TABLE_CELL_CLASS} ${TABLE_CELL_CLASS}--head`;\nconst TABLE_CELL_SORT_CLASS = `${TABLE_CELL_CLASS} ${TABLE_CELL_CLASS}--sortable`;\nexport const headerLabels = {\n    name: Translator.trans(/*@Desc(\"Name\")*/ 'items_table.header.name', {}, 'sub_items'),\n    modified: Translator.trans(/*@Desc(\"Modified\")*/ 'items_table.header.modified', {}, 'sub_items'),\n    contentType: Translator.trans(/*@Desc(\"Content type\")*/ 'items_table.header.content_type', {}, 'sub_items'),\n    priority: Translator.trans(/*@Desc(\"Priority\")*/ 'items_table.header.priority', {}, 'sub_items'),\n    translations: Translator.trans(/*@Desc(\"Translations\")*/ 'items_table.header.translations', {}, 'sub_items'),\n};\n\nexport default class TableViewComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.sortByName = this.sortByName.bind(this);\n        this.sortByDate = this.sortByDate.bind(this);\n        this.sortByPriority = this.sortByPriority.bind(this);\n        this.renderItem = this.renderItem.bind(this);\n        this.selectAll = this.selectAll.bind(this);\n        this.setColumnsVisibilityInLocalStorage = this.setColumnsVisibilityInLocalStorage.bind(this);\n        this.toggleColumnVisibility = this.toggleColumnVisibility.bind(this);\n\n        this._refColumnsTogglerButton = createRef();\n\n        this.state = {\n            columnsVisibility: this.getColumnsVisibilityFromLocalStorage(),\n        };\n    }\n\n    getColumnsVisibilityFromLocalStorage() {\n        const columnsVisibilityData = localStorage.getItem(COLUMNS_VISIBILITY_LOCAL_STORAGE_DATA_KEY);\n\n        return columnsVisibilityData ? JSON.parse(columnsVisibilityData) : DEFAULT_COLUMNS_VISIBILITY;\n    }\n\n    setColumnsVisibilityInLocalStorage() {\n        const columnsVisibilityData = JSON.stringify(this.state.columnsVisibility);\n\n        localStorage.setItem(COLUMNS_VISIBILITY_LOCAL_STORAGE_DATA_KEY, columnsVisibilityData);\n    }\n\n    /**\n     * Changes sort to name\n     */\n    sortByName() {\n        const { onSortChange } = this.props;\n\n        onSortChange(KEY_CONTENT_NAME);\n    }\n\n    /**\n     * Changes sort to modification date\n     */\n    sortByDate() {\n        const { onSortChange } = this.props;\n\n        onSortChange(KEY_DATE_MODIFIED);\n    }\n\n    /**\n     * Changes sort to priority\n     */\n    sortByPriority() {\n        const { onSortChange } = this.props;\n\n        onSortChange(KEY_LOCATION_PRIORITY);\n    }\n\n    /**\n     * Selects all visible items\n     *\n     * @param {Event} event\n     */\n    selectAll(event) {\n        const { toggleAllItemsSelect } = this.props;\n        const isSelectAction = event.target.checked;\n\n        toggleAllItemsSelect(isSelectAction);\n    }\n\n    toggleColumnVisibility(column) {\n        this.setState(\n            (state) => ({\n                columnsVisibility: {\n                    ...state.columnsVisibility,\n                    [column]: !state.columnsVisibility[column],\n                },\n            }),\n            this.setColumnsVisibilityInLocalStorage\n        );\n    }\n\n    /**\n     * Renders single list item\n     *\n     * @method renderItem\n     * @param {Object} data\n     * @returns {JSX.Element}\n     * @memberof TableViewComponent\n     */\n    renderItem(data) {\n        const { columnsVisibility } = this.state;\n        const {\n            contentTypesMap,\n            handleItemPriorityUpdate,\n            handleEditItem,\n            generateLink,\n            languages,\n            onItemSelect,\n            selectedLocationsIds,\n        } = this.props;\n        const isSelected = selectedLocationsIds.has(data.location.id);\n\n        return (\n            <TableViewItemComponent\n                key={data.location.id}\n                {...data}\n                contentTypesMap={contentTypesMap}\n                onItemPriorityUpdate={handleItemPriorityUpdate}\n                languages={languages}\n                handleEditItem={handleEditItem}\n                generateLink={generateLink}\n                onItemSelect={onItemSelect}\n                isSelected={isSelected}\n                columnsVisibility={columnsVisibility}\n            />\n        );\n    }\n\n    renderModifiedHeader() {\n        if (!this.state.columnsVisibility.modified) {\n            return null;\n        }\n\n        return (\n            <th\n                className={`${TABLE_HEAD_CLASS} ${TABLE_CELL_CLASS}--date ${TABLE_CELL_SORT_CLASS}`}\n                onClick={this.sortByDate}\n                tabIndex=\"-1\">\n                <span className=\"c-table-view__label\">{headerLabels.modified}</span>\n            </th>\n        );\n    }\n\n    renderContentTypeHeader() {\n        if (!this.state.columnsVisibility.contentType) {\n            return null;\n        }\n\n        return (\n            <th className={TABLE_HEAD_CLASS}>\n                <span className=\"c-table-view__label\">{headerLabels.contentType}</span>\n            </th>\n        );\n    }\n\n    renderPriorityHeader() {\n        if (!this.state.columnsVisibility.priority) {\n            return null;\n        }\n\n        return (\n            <th\n                className={`${TABLE_HEAD_CLASS} ${TABLE_CELL_CLASS}--priority ${TABLE_CELL_SORT_CLASS}`}\n                onClick={this.sortByPriority}\n                tabIndex=\"-1\">\n                <span className=\"c-table-view__label\">{headerLabels.priority}</span>\n            </th>\n        );\n    }\n\n    renderTranslationsHeader() {\n        if (!this.state.columnsVisibility.translations) {\n            return null;\n        }\n\n        return (\n            <th className={`${TABLE_HEAD_CLASS}`}>\n                <span className=\"c-table-view__label\">{headerLabels.translations}</span>\n            </th>\n        );\n    }\n\n    /**\n     * Renders table's head\n     *\n     * @method renderHead\n     * @returns {JSX.Element|null}\n     * @memberof GridViewComponent\n     */\n    renderHead() {\n        const cellClass = 'c-table-view__cell';\n        const { items } = this.props;\n        let headClass = 'c-table-view__head';\n\n        if (!items.length) {\n            return null;\n        }\n\n        const { sortClause, sortOrder } = this.props;\n\n        if (sortClause) {\n            const headSortOrderClass = sortOrder === 'ascending' ? `${headClass}--sort-asc` : `${headClass}--sort-desc`;\n            const headSortByClass = `${headClass}--sort-by-${SORTKEY_MAP[sortClause]}`;\n\n            headClass = `${headClass} ${headSortOrderClass} ${headSortByClass}`;\n        }\n\n        const { columnsVisibility } = this.state;\n        const { selectedLocationsIds } = this.props;\n        const anyLocationSelected = !!selectedLocationsIds.size;\n\n        return (\n            <thead className={headClass}>\n                <tr className=\"c-table-view__row\">\n                    <th className={`${TABLE_HEAD_CLASS} ${cellClass}--checkbox`}>\n                        <input type=\"checkbox\" checked={anyLocationSelected} onChange={this.selectAll} />\n                    </th>\n                    <th className={TABLE_HEAD_CLASS} />\n                    <th\n                        className={`${TABLE_HEAD_CLASS} ${TABLE_CELL_CLASS}--name ${TABLE_CELL_SORT_CLASS}`}\n                        onClick={this.sortByName}\n                        tabIndex=\"-1\">\n                        <span className=\"c-table-view__label\">{headerLabels.name}</span>\n                    </th>\n                    {this.renderModifiedHeader()}\n                    {this.renderContentTypeHeader()}\n                    {this.renderPriorityHeader()}\n                    {this.renderTranslationsHeader()}\n                    <th className={`${TABLE_HEAD_CLASS} ${cellClass}--actions`}>\n                        <TableViewColumnsTogglerComponent\n                            columnsVisibility={columnsVisibility}\n                            toggleColumnVisibility={this.toggleColumnVisibility}\n                        />\n                    </th>\n                </tr>\n            </thead>\n        );\n    }\n\n    render() {\n        const { items } = this.props;\n        const content = items.map(this.renderItem);\n\n        return (\n            <div className=\"c-table-view__wrapper\">\n                <div className=\"c-table-view__scroller\">\n                    <table className=\"c-table-view\">\n                        {this.renderHead()}\n                        <tbody className=\"c-table-view__body\">{content}</tbody>\n                    </table>\n                </div>\n            </div>\n        );\n    }\n}\n\nTableViewComponent.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.object).isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    handleItemPriorityUpdate: PropTypes.func.isRequired,\n    generateLink: PropTypes.func.isRequired,\n    handleEditItem: PropTypes.func.isRequired,\n    languages: PropTypes.object.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    toggleAllItemsSelect: PropTypes.func.isRequired,\n    selectedLocationsIds: PropTypes.instanceOf(Set),\n    onSortChange: PropTypes.func.isRequired,\n    sortClause: PropTypes.string.isRequired,\n    sortOrder: PropTypes.string.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/table-view/table.view.component.js","import React, { Component, Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport ViewSwitcherComponent from './components/view-switcher/view.switcher.component.js';\nimport SubItemsListComponent from './components/sub-items-list/sub.items.list.component.js';\nimport Popup from '../common/popup/popup.component';\nimport ActionButton from './components/action-btn/action.btn.js';\nimport PaginationComponent from './components/pagination/pagination.component.js';\nimport NoItemsComponent from './components/no-items/no.items.component.js';\nimport Icon from '../common/icon/icon.js';\n\nimport deepClone from '../common/helpers/deep.clone.helper.js';\nimport { updateLocationPriority, loadLocation, loadContentInfo, loadContentType, loadContentTypes } from './services/sub.items.service';\nimport { bulkMoveLocations, bulkMoveLocationsToTrash } from './services/bulk.service.js';\n\nconst ASCENDING_SORT_ORDER = 'ascending';\nconst DESCENDING_SORT_ORDER = 'descending';\nconst DEFAULT_SORT_ORDER = ASCENDING_SORT_ORDER;\n\nexport default class SubItemsModule extends Component {\n    constructor(props) {\n        super(props);\n\n        this.afterPriorityUpdated = this.afterPriorityUpdated.bind(this);\n        this.loadContentItems = this.loadContentItems.bind(this);\n        this.loadContentTypes = this.loadContentTypes.bind(this);\n        this.updateItemsState = this.updateItemsState.bind(this);\n        this.switchView = this.switchView.bind(this);\n        this.handleItemPriorityUpdate = this.handleItemPriorityUpdate.bind(this);\n        this.toggleItemSelection = this.toggleItemSelection.bind(this);\n        this.toggleAllPageItemsSelection = this.toggleAllPageItemsSelection.bind(this);\n        this.onMoveBtnClick = this.onMoveBtnClick.bind(this);\n        this.closeUdw = this.closeUdw.bind(this);\n        this.onUdwConfirm = this.onUdwConfirm.bind(this);\n        this.onDeleteBtnClick = this.onDeleteBtnClick.bind(this);\n        this.closeBulkDeletePopup = this.closeBulkDeletePopup.bind(this);\n        this.onBulkDeletePopupConfirm = this.onBulkDeletePopupConfirm.bind(this);\n        this.afterBulkDelete = this.afterBulkDelete.bind(this);\n        this.changePage = this.changePage.bind(this);\n        this.changeSorting = this.changeSorting.bind(this);\n\n        this._refListViewWrapper = React.createRef();\n        this.bulkDeleteModalContainer = null;\n        this.udwContainer = null;\n\n        const sortClauseData = this.getDefaultSortClause(props.sortClauses);\n\n        this.state = {\n            activeView: props.activeView,\n            activePageItems: props.items,\n            selectedItems: new Map(),\n            contentTypesMap: props.contentTypesMap,\n            totalCount: props.totalCount,\n            offset: props.offset,\n            isDuringBulkOperation: false,\n            isUdwOpened: false,\n            isBulkDeletePopupVisible: false,\n            activePageIndex: 0,\n            listViewHeight: null,\n            sortClause: sortClauseData.name,\n            sortOrder: sortClauseData.order,\n        };\n    }\n\n    componentDidMount() {\n        this.udwContainer = document.getElementById('react-udw');\n        this.bulkDeleteModalContainer = document.createElement('div');\n        this.bulkDeleteModalContainer.classList.add('m-sub-items__bulk-delete-modal-container');\n        document.body.appendChild(this.bulkDeleteModalContainer);\n    }\n\n    componentDidUpdate() {\n        const { activePageIndex, activePageItems, totalCount } = this.state;\n        const { limit: itemsPerPage } = this.props;\n        const pagesCount = Math.ceil(totalCount / itemsPerPage);\n        const pageDoesNotExist = activePageIndex > pagesCount - 1 && activePageIndex !== 0;\n\n        if (pageDoesNotExist) {\n            this.setState({\n                activePageIndex: pagesCount - 1,\n            });\n\n            return;\n        }\n\n        const shouldLoadPage = !activePageItems;\n\n        if (shouldLoadPage) {\n            this.loadPage(activePageIndex);\n        }\n    }\n\n    componentWillUnmount() {\n        document.body.removeChild(this.bulkDeleteModalContainer);\n    }\n\n    getDefaultSortClause(sortClauses) {\n        const objKeys = Object.keys(sortClauses);\n\n        if (!objKeys.length) {\n            return { name: null, order: null };\n        }\n\n        const name = objKeys[0];\n        const order = sortClauses[name];\n\n        return { name, order };\n    }\n\n    updateListViewHeight() {\n        this.setState(() => ({\n            listViewHeight: this._refListViewWrapper.current.offsetHeight,\n        }));\n    }\n\n    /**\n     * Loads items into the list\n     *\n     * @method loadPage\n     * @memberof SubItemsModule\n     */\n    loadPage(pageIndex) {\n        this.loadLocation(pageIndex)\n            .then(this.loadContentItems)\n            .then(this.loadContentTypes)\n            .then(this.updateItemsState)\n            .catch(() => {\n                const errorMessage = Translator.trans(\n                    /*@Desc(\"An error occurred while loading items in the Sub Items module\")*/ 'page.loading_error.message',\n                    {},\n                    'sub_items'\n                );\n\n                window.eZ.helpers.notification.showErrorNotification(errorMessage);\n            });\n    }\n\n    /**\n     * Loads location data\n     *\n     * @param {Number} pageIndex\n     * @method loadLocation\n     * @returns {Promise}\n     * @memberof SubItemsModule\n     */\n    loadLocation(pageIndex) {\n        const { limit: itemsPerPage, loadLocation, restInfo, parentLocationId: locationId } = this.props;\n        const { sortClause, sortOrder } = this.state;\n        const offset = pageIndex * itemsPerPage;\n        const sortClauses = {\n            [sortClause]: sortOrder,\n        };\n        const queryConfig = { locationId, limit: itemsPerPage, sortClauses, offset };\n\n        return new Promise((resolve) => loadLocation(restInfo, queryConfig, resolve));\n    }\n\n    /**\n     * Loads content items from location\n     *\n     * @method loadContentItems\n     * @param {Object} response query results\n     * @returns {Promise}\n     * @memberof SubItemsModule\n     */\n    loadContentItems(response) {\n        const { loadContentInfo, restInfo } = this.props;\n\n        if (!response || !response.View) {\n            const invalidResponseFormatMessage = Translator.trans(\n                /*@Desc(\"Invalid response format\")*/ 'load_content_items.invalid_response_format.error.message',\n                {},\n                'sub_items'\n            );\n\n            throw new Error(invalidResponseFormatMessage);\n        }\n\n        const locations = response.View.Result.searchHits.searchHit;\n\n        return new Promise((resolve) => {\n            const contentIds = locations.map((item) => item.value.Location.ContentInfo.Content._id);\n\n            loadContentInfo(restInfo, contentIds, (contentInfo) => {\n                const totalCount = response.View.Result.count;\n\n                resolve({\n                    locations,\n                    totalCount,\n                    contentItems: contentInfo.View.Result.searchHits.searchHit.map((searchHit) => searchHit.value.Content),\n                });\n            });\n        });\n    }\n\n    /**\n     * Loads content types info\n     *\n     * @method loadContentTypes\n     * @param {Object} itemsData\n     * @returns {Promise}\n     * @memberof SubItemsModule\n     */\n    loadContentTypes(itemsData) {\n        const promises = itemsData.contentItems.map(\n            (content) =>\n                new Promise((resolve) => {\n                    const contentTypeId = content.ContentType._href;\n\n                    if (!this.state.contentTypesMap[contentTypeId]) {\n                        this.props.loadContentType(contentTypeId, this.props.restInfo, (response) => resolve(response));\n                    } else {\n                        resolve({ ContentType: this.state.contentTypesMap[contentTypeId] });\n                    }\n                })\n        );\n\n        return Promise.all(promises).then((contentTypes) => {\n            itemsData.contentTypes = contentTypes;\n\n            return itemsData;\n        });\n    }\n\n    /**\n     * Updates module state by updating items list\n     *\n     * @method updateItemsState\n     * @param {Object} responses\n     * @memberof SubItemsModule\n     */\n    updateItemsState({ locations, contentItems, totalCount, contentTypes }) {\n        const pageItems = locations.map((location) => {\n            const itemLocation = location.value.Location;\n            const respectiveContent = contentItems.find((content) => content._id === itemLocation.ContentInfo.Content._id);\n\n            return {\n                location: itemLocation,\n                content: respectiveContent,\n            };\n        });\n\n        this.setState((state) => ({\n            activePageItems: pageItems,\n            totalCount,\n            contentTypesMap: {\n                ...state.contentTypesMap,\n                ...this.buildContentTypesMap(contentTypes),\n            },\n        }));\n    }\n\n    /**\n     * Builds content types map\n     *\n     * @method buildContentTypesMap\n     * @param {Array} contentTypes\n     * @returns {Object}\n     * @memberof SubItemsModule\n     */\n    buildContentTypesMap(contentTypes) {\n        if (!contentTypes) {\n            return {};\n        }\n\n        return contentTypes.reduce((total, item) => {\n            total[item.ContentType._href] = item.ContentType;\n\n            return total;\n        }, {});\n    }\n\n    updateTotalCountState(totalCount) {\n        this.setState(() => ({\n            totalCount,\n        }));\n    }\n\n    discardActivePageItems() {\n        this.updateListViewHeight();\n        this.setState(() => ({\n            activePageItems: null,\n        }));\n    }\n\n    changeSorting(sortClause) {\n        this.updateListViewHeight();\n        this.setState((state) => ({\n            sortClause,\n            sortOrder: this.getSortOrder(state.sortClause, sortClause, state.sortOrder),\n            activePageItems: null,\n        }));\n    }\n\n    getSortOrder(sortClause, newSortClause, currentSortOrder) {\n        return newSortClause === sortClause ? this.getOppositeSortOrder(currentSortOrder) : DEFAULT_SORT_ORDER;\n    }\n\n    getOppositeSortOrder(sortOrder) {\n        return sortOrder === ASCENDING_SORT_ORDER ? DESCENDING_SORT_ORDER : ASCENDING_SORT_ORDER;\n    }\n\n    /**\n     * Updates item priority\n     *\n     * @method handleItemPriorityUpdate\n     * @param {Object} data data hash containing: priority, location, token, siteaccess\n     * @memberof SubItemsModule\n     */\n    handleItemPriorityUpdate(data) {\n        this.props.updateLocationPriority({ ...data, ...this.props.restInfo }, this.afterPriorityUpdated);\n    }\n\n    /**\n     * Updates module state after item's priority has been updated\n     *\n     * @method afterPriorityUpdated\n     * @param {Object} response\n     * @memberof SubItemsModule\n     */\n    afterPriorityUpdated(response) {\n        if (this.state.sortClause === 'LocationPriority') {\n            this.discardActivePageItems();\n            return;\n        }\n\n        this.updateItemLocation(response.Location);\n    }\n\n    updateItemLocation(location) {\n        this.setState(({ activePageItems }) => {\n            const itemIndex = activePageItems.findIndex((item) => item.location.id === location.id);\n\n            if (itemIndex === -1) {\n                return null;\n            }\n\n            const item = activePageItems[itemIndex];\n            const updatedItem = deepClone(item);\n            const updatedPageItems = [...activePageItems];\n\n            updatedItem.location = location;\n            updatedPageItems[itemIndex] = updatedItem;\n\n            return {\n                activePageItems: updatedPageItems,\n            };\n        });\n    }\n\n    /**\n     * Switches active view\n     *\n     * @method switchView\n     * @param {String} activeView\n     * @memberof SubItemsModule\n     */\n    switchView(activeView) {\n        this.setState(() => ({ activeView }));\n    }\n\n    toggleItemSelection(item, isSelected) {\n        const { selectedItems } = this.state;\n        const updatedSelectedItems = new Map(selectedItems);\n        const locationId = item.location.id;\n\n        if (isSelected) {\n            updatedSelectedItems.set(locationId, item);\n        } else {\n            updatedSelectedItems.delete(locationId);\n        }\n\n        this.setState(() => ({ selectedItems: updatedSelectedItems }));\n    }\n\n    toggleAllPageItemsSelection(select) {\n        const { activePageItems } = this.state;\n\n        if (select) {\n            this.selectItems(activePageItems);\n        } else {\n            const locationsIds = activePageItems.map((item) => item.location.id);\n            const locationsIdsSet = new Set(locationsIds);\n\n            this.deselectItems(locationsIdsSet);\n        }\n    }\n\n    /**\n     *\n     * @param {Array} itemsToSelect\n     */\n    selectItems(itemsToSelect) {\n        const { selectedItems } = this.state;\n        const newSelectedItems = itemsToSelect.map((item) => [item.location.id, item]);\n        const newSelection = new Map([...selectedItems, ...newSelectedItems]);\n\n        this.setState(() => ({ selectedItems: newSelection }));\n    }\n\n    /**\n     * Deselects items with locations with provided IDs.\n     *\n     * @param {Set} locationsIds\n     */\n    deselectItems(locationsIds) {\n        const { selectedItems } = this.state;\n        const newSelection = new Map([...selectedItems].filter(([locationId]) => !locationsIds.has(locationId)));\n\n        this.setState(() => ({ selectedItems: newSelection }));\n    }\n\n    deselectAllItems() {\n        this.setState(() => ({ selectedItems: new Map() }));\n    }\n\n    toggleBulkOperationStatusState(isDuringBulkOperation) {\n        this.setState(() => ({\n            isDuringBulkOperation,\n        }));\n    }\n\n    onMoveBtnClick() {\n        this.toggleUdw(true);\n    }\n\n    bulkMove(location) {\n        this.toggleBulkOperationStatusState(true);\n\n        const { restInfo } = this.props;\n        const { selectedItems } = this.state;\n        const locationsToMove = [...selectedItems.values()].map(({ location }) => location);\n\n        bulkMoveLocations(restInfo, locationsToMove, location._href, this.afterBulkMove.bind(this, selectedItems, location));\n    }\n\n    afterBulkMove(selectedItems, location, movedLocations, notMovedLocations) {\n        const { totalCount } = this.state;\n\n        this.refreshContentTree();\n        this.updateTotalCountState(totalCount - movedLocations.length);\n        this.deselectAllItems();\n        this.discardActivePageItems();\n\n        this.toggleBulkOperationStatusState(false);\n\n        if (notMovedLocations.length) {\n            const modalTableTitle = Translator.trans(\n                /*@Desc(\"Content items cannot be moved (%itemsCount%)\")*/ 'bulk_move.error.modal.table_title',\n                {\n                    itemsCount: notMovedLocations.length,\n                },\n                'sub_items'\n            );\n            const notificationMessage = Translator.trans(\n                /*@Desc(\"%notMovedCount% of the %totalCount% selected item(s) could not be moved because you do not have proper user permissions. {{ moreInformationLink }} Please contact your Administrator to obtain permissions.\")*/ 'bulk_move.error.message',\n                {\n                    notMovedCount: notMovedLocations.length,\n                    totalCount: movedLocations.length + notMovedLocations.length,\n                },\n                'sub_items'\n            );\n            const rawPlaceholdersMap = {\n                moreInformationLink: Translator.trans(\n                    /*@Desc(\"<u><a class='ez-notification-btn ez-notification-btn--show-modal'>Click here for more information.</a></u><br>\")*/ 'bulk_move.error.more_info',\n                    {},\n                    'sub_items'\n                )\n            };\n\n            this.handleBulkOperationFailedNotification(selectedItems, notMovedLocations, modalTableTitle, notificationMessage, rawPlaceholdersMap);\n        }\n\n        if (movedLocations.length) {\n            const message = Translator.trans(\n                /*@Desc(\"The selected content item(s) have been sent to {{ locationLink }}\")*/ 'bulk_move.success.message',\n                {},\n                'sub_items'\n            );\n            const rawPlaceholdersMap = {\n                locationLink: Translator.trans(\n                    /*@Desc(\"<u><a href='%locationHref%'>%locationName%</a></u>\")*/ 'bulk_move.success.link_to_location',\n                    {\n                        locationName: eZ.helpers.text.escapeHTML(location.ContentInfo.Content.Name),\n                        locationHref: this.props.generateLink(location.id),\n                    },\n                    'sub_items'\n                ),\n            };\n\n            window.eZ.helpers.notification.showSuccessNotification(message, () => {}, rawPlaceholdersMap);\n        }\n    }\n\n    toggleUdw(show) {\n        this.setState(() => ({\n            isUdwOpened: show,\n        }));\n    }\n\n    closeUdw() {\n        this.toggleUdw(false);\n    }\n\n    onUdwConfirm([selectedLocation]) {\n        this.closeUdw();\n        this.bulkMove(selectedLocation);\n    }\n\n    renderUdw() {\n        const { isUdwOpened } = this.state;\n\n        if (!isUdwOpened) {\n            return null;\n        }\n\n        const UniversalDiscovery = window.eZ.modules.UniversalDiscovery;\n        const { restInfo, parentLocationId, udwConfigBulkMoveItems } = this.props;\n        const { selectedItems } = this.state;\n        const selectedItemsLocationsIds = [...selectedItems.values()].map(({ location }) => location.id);\n        const excludedMoveLocations = [parentLocationId, ...selectedItemsLocationsIds];\n        const title = Translator.trans(/*@Desc(\"Choose location\")*/ 'udw.choose_location.title', {}, 'sub_items');\n        const udwProps = {\n            title,\n            restInfo,\n            onCancel: this.closeUdw,\n            onConfirm: this.onUdwConfirm,\n            canSelectContent: ({ item }, callback) => {\n                callback(!excludedMoveLocations.includes(item.id));\n            },\n            ...udwConfigBulkMoveItems,\n        };\n\n        return ReactDOM.createPortal(<UniversalDiscovery {...udwProps} />, this.udwContainer);\n    }\n\n    onDeleteBtnClick() {\n        this.toggleBulkDeletePopup(true);\n    }\n\n    bulkDelete() {\n        this.toggleBulkOperationStatusState(true);\n\n        const { restInfo } = this.props;\n        const { selectedItems } = this.state;\n        const locationsToDelete = [...selectedItems.values()].map(({ location }) => location);\n\n        bulkMoveLocationsToTrash(restInfo, locationsToDelete, this.afterBulkDelete.bind(this, selectedItems));\n    }\n\n    afterBulkDelete(selectedItems, deletedLocations, notDeletedLocations) {\n        const { totalCount } = this.state;\n\n        this.refreshContentTree();\n        this.updateTotalCountState(totalCount - deletedLocations.length);\n        this.deselectAllItems();\n        this.discardActivePageItems();\n\n        this.toggleBulkOperationStatusState(false);\n\n        if (notDeletedLocations.length) {\n            const modalTableTitle = Translator.trans(\n                /*@Desc(\"Content item(s) cannot be sent to trash (%itemsCount%)\")*/ 'bulk_delete.error.modal.table_title',\n                {\n                    itemsCount: notDeletedLocations.length,\n                },\n                'sub_items'\n            );\n            const message = Translator.trans(\n                /*@Desc(\"%notDeletedCount% of the %totalCount% selected item(s) could not be deleted because you do not have proper user permissions. {{ moreInformationLink }} Please contact your Administrator to obtain permissions.\")*/ 'bulk_delete.error.message',\n                {\n                    notDeletedCount: notDeletedLocations.length,\n                    totalCount: deletedLocations.length + notDeletedLocations.length,\n                },\n                'sub_items'\n            );\n\n            const rawPlaceholdersMap = {\n                moreInformationLink: Translator.trans(\n                    /*@Desc(\"<u><a class='ez-notification-btn ez-notification-btn--show-modal'>Click here for more information.</a></u><br>\")*/ 'bulk_delete.error.more_info',\n                    {},\n                    'sub_items'\n                )\n            };\n\n            this.handleBulkOperationFailedNotification(selectedItems, notDeletedLocations, modalTableTitle, message, rawPlaceholdersMap);\n        } else {\n            const message = Translator.trans(\n                /*@Desc(\"The selected content item(s) have been sent to trash\")*/ 'bulk_delete.success.message',\n                {},\n                'sub_items'\n            );\n\n            window.eZ.helpers.notification.showSuccessNotification(message);\n        }\n    }\n\n    toggleBulkDeletePopup(show) {\n        this.setState(() => ({\n            isBulkDeletePopupVisible: show,\n        }));\n    }\n\n    closeBulkDeletePopup() {\n        this.toggleBulkDeletePopup(false);\n    }\n\n    onBulkDeletePopupConfirm() {\n        this.closeBulkDeletePopup();\n        this.bulkDelete();\n    }\n\n    /**\n     * Shows warning notification which has a button.\n     * Clicking the button should cause appearance of the modal\n     * with list of items, which failed to be deleted/moved.\n     *\n     * @param {Map} selectedItems\n     * @param {Array} failedLocations\n     * @param {String} modalTableTitle\n     * @param {String} notificationMessage\n     * @param {Object} rawPlaceholdersMap\n     */\n    handleBulkOperationFailedNotification(selectedItems, failedLocations, modalTableTitle, notificationMessage, rawPlaceholdersMap) {\n        const { contentTypesMap } = this.state;\n        const failedItemsData = failedLocations.map(({ id: locationId }) => {\n            const item = selectedItems.get(locationId);\n            const contentType = contentTypesMap[item.content.ContentType._href];\n            const contentTypeIdentifier = contentType.identifier;\n            const contentTypeName = window.eZ.adminUiConfig.contentTypeNames[contentTypeIdentifier];\n\n            return {\n                contentTypeName,\n                contentName: item.content.Name,\n            };\n        });\n\n        window.eZ.helpers.notification.showWarningNotification(notificationMessage, (notificationNode) => {\n            const showModalBtn = notificationNode.querySelector('.ez-notification-btn--show-modal');\n\n            if (!showModalBtn) {\n                return;\n            }\n\n            showModalBtn.addEventListener('click', this.props.showBulkActionFailedModal.bind(null, modalTableTitle, failedItemsData));\n        }, rawPlaceholdersMap);\n    }\n\n    refreshContentTree() {\n        document.body.dispatchEvent(new CustomEvent('ez-content-tree-refresh'));\n    }\n\n    renderConfirmationPopupFooter() {\n        const cancelLabel = Translator.trans(/*@Desc(\"Cancel\")*/ 'bulk_delete.popup.cancel', {}, 'sub_items');\n        const confirmLabel = Translator.trans(/*@Desc(\"Send to trash\")*/ 'bulk_delete.popup.confirm', {}, 'sub_items');\n\n        return (\n            <Fragment>\n                <button\n                    onClick={this.closeBulkDeletePopup}\n                    type=\"button\"\n                    className=\"btn btn-secondary btn--no m-sub-items__confirmation-modal-cancel-btn\"\n                    data-dismiss=\"modal\">\n                    {cancelLabel}\n                </button>\n                <button onClick={this.onBulkDeletePopupConfirm} type=\"button\" className=\"btn btn-danger font-weight-bold btn--trigger\">\n                    {confirmLabel}\n                </button>\n            </Fragment>\n        );\n    }\n\n    renderConfirmationPopup() {\n        const { isBulkDeletePopupVisible } = this.state;\n\n        if (!isBulkDeletePopupVisible) {\n            return null;\n        }\n\n        const confirmationMessage = Translator.trans(\n            /*@Desc(\"Are you sure you want to send the selected content item(s) to trash?\")*/ 'bulk_delete.popup.message',\n            {},\n            'sub_items'\n        );\n\n        return ReactDOM.createPortal(\n            <Popup\n                onClose={this.closeBulkDeletePopup}\n                isVisible={isBulkDeletePopupVisible}\n                isLoading={false}\n                size=\"medium\"\n                footerChildren={this.renderConfirmationPopupFooter()}\n                noHeader={true}>\n                <div className=\"m-sub-items__confirmation-modal-body\">{confirmationMessage}</div>\n            </Popup>,\n            this.bulkDeleteModalContainer\n        );\n    }\n\n    changePage(pageIndex) {\n        this.updateListViewHeight();\n        this.setState(() => ({\n            activePageIndex: pageIndex,\n            activePageItems: null,\n        }));\n    }\n\n    getPageSelectedLocationsIds() {\n        const { selectedItems, activePageItems } = this.state;\n        const selectedLocationsIds = [...selectedItems.keys()];\n        const pageLocationsIds = [...activePageItems.map((item) => item.location.id)];\n        const selectedPageLocationsIds = new Set(pageLocationsIds.filter((locationId) => selectedLocationsIds.includes(locationId)));\n\n        return selectedPageLocationsIds;\n    }\n\n    /**\n     * Renders extra actions\n     *\n     * @method renderExtraActions\n     * @param {Object} action\n     * @returns {JSX.Element}\n     * @memberof SubItemsModule\n     */\n    renderExtraActions(action, index) {\n        const Action = action.component;\n\n        return <Action key={index} className=\"m-sub-items__action\" {...action.attrs} />;\n    }\n\n    /**\n     * Renders pagination info,\n     * which is information about how many items of all user is\n     * viewing at the moment\n     *\n     * @method renderPaginationInfo\n     * @returns {JSX.Element}\n     */\n    renderPaginationInfo() {\n        const { totalCount, activePageItems } = this.state;\n        const viewingCount = activePageItems ? activePageItems.length : 0;\n\n        const message = Translator.trans(\n            /*@Desc(\"Viewing <strong>%viewingCount%</strong> out of <strong>%totalCount%</strong> sub-items\")*/ 'viewing_message',\n            {\n                viewingCount,\n                totalCount,\n            },\n            'sub_items'\n        );\n\n        return <div className=\"m-sub-items__pagination-info\" dangerouslySetInnerHTML={{ __html: message }} />;\n    }\n\n    /**\n     * Renders pagination\n     *\n     * @method renderPagination\n     * @returns {JSX.Element|null}\n     * @memberof SubItemsModule\n     */\n    renderPagination() {\n        const { limit: itemsPerPage } = this.props;\n        const { totalCount } = this.state;\n        const lessThanOnePage = totalCount <= itemsPerPage;\n\n        if (lessThanOnePage) {\n            return null;\n        }\n\n        const { activePageIndex, activePageItems, isDuringBulkOperation } = this.state;\n        const isActivePageLoaded = !!activePageItems;\n        const isPaginationDisabled = !isActivePageLoaded || isDuringBulkOperation;\n\n        return (\n            <PaginationComponent\n                proximity={1}\n                itemsPerPage={itemsPerPage}\n                activePageIndex={activePageIndex}\n                totalCount={totalCount}\n                onPageChange={this.changePage}\n                disabled={isPaginationDisabled}\n            />\n        );\n    }\n\n    renderBulkMoveBtn(disabled) {\n        const label = Translator.trans(/*@Desc(\"Move selected items\")*/ 'move_btn.label', {}, 'sub_items');\n\n        return <ActionButton disabled={disabled} onClick={this.onMoveBtnClick} label={label} type=\"move\" />;\n    }\n\n    renderBulkDeleteBtn(disabled) {\n        const label = Translator.trans(/*@Desc(\"Delete selected items\")*/ 'trash_btn.label', {}, 'sub_items');\n\n        return <ActionButton disabled={disabled} onClick={this.onDeleteBtnClick} label={label} type=\"trash\" />;\n    }\n\n    renderSpinner() {\n        const { activePageItems } = this.state;\n        const isActivePageLoaded = !!activePageItems;\n\n        if (isActivePageLoaded) {\n            return null;\n        }\n\n        const { listViewHeight } = this.state;\n        const spinnerMinHeight = 90;\n        const style = {\n            height: listViewHeight && listViewHeight > spinnerMinHeight ? listViewHeight : spinnerMinHeight,\n        };\n\n        return (\n            <div style={style}>\n                <div className=\"m-sub-items__spinner-wrapper\">\n                    <Icon name=\"spinner\" extraClasses=\"m-sub-items__spinner ez-icon--medium ez-spin\" />\n                </div>\n            </div>\n        );\n    }\n\n    renderNoItems() {\n        if (this.state.totalCount) {\n            return null;\n        }\n\n        return <NoItemsComponent />;\n    }\n\n    renderListView() {\n        const { activePageItems, sortClause, sortOrder } = this.state;\n        const pageLoaded = !!activePageItems;\n\n        if (!pageLoaded) {\n            return null;\n        }\n\n        const selectedPageLocationsIds = this.getPageSelectedLocationsIds();\n\n        return (\n            <SubItemsListComponent\n                activeView={this.state.activeView}\n                contentTypesMap={this.state.contentTypesMap}\n                handleItemPriorityUpdate={this.handleItemPriorityUpdate}\n                items={activePageItems}\n                languages={this.props.languages}\n                handleEditItem={this.props.handleEditItem}\n                generateLink={this.props.generateLink}\n                onItemSelect={this.toggleItemSelection}\n                toggleAllItemsSelect={this.toggleAllPageItemsSelection}\n                selectedLocationsIds={selectedPageLocationsIds}\n                onSortChange={this.changeSorting}\n                sortClause={sortClause}\n                sortOrder={sortOrder}\n            />\n        );\n    }\n\n    render() {\n        const listTitle = Translator.trans(/*@Desc(\"Sub-items\")*/ 'items_list.title', {}, 'sub_items');\n        const { selectedItems, activeView, totalCount, isDuringBulkOperation, activePageItems } = this.state;\n        const nothingSelected = !selectedItems.size;\n        const isTableViewActive = activeView === 'table';\n        const pageLoaded = !!activePageItems;\n        const bulkBtnDisabled = nothingSelected || !isTableViewActive || !pageLoaded;\n        let listClassName = 'm-sub-items__list';\n\n        if (isDuringBulkOperation) {\n            listClassName = `${listClassName} ${listClassName}--processing`;\n        }\n\n        return (\n            <div className=\"m-sub-items\">\n                <div className=\"m-sub-items__header\">\n                    <div className=\"m-sub-items__title\">\n                        {listTitle} ({this.state.totalCount})\n                    </div>\n                    <div className=\"m-sub-items__actions\">\n                        {this.props.extraActions.map(this.renderExtraActions)}\n                        {this.renderBulkMoveBtn(bulkBtnDisabled)}\n                        {this.renderBulkDeleteBtn(bulkBtnDisabled)}\n                    </div>\n                    <ViewSwitcherComponent onViewChange={this.switchView} activeView={activeView} isDisabled={!totalCount} />\n                </div>\n                <div ref={this._refListViewWrapper} className={listClassName}>\n                    {this.renderSpinner()}\n                    {this.renderListView()}\n                    {this.renderNoItems()}\n                </div>\n                {this.renderPaginationInfo()}\n                {this.renderPagination()}\n                {this.renderUdw()}\n                {this.renderConfirmationPopup()}\n            </div>\n        );\n    }\n}\n\neZ.addConfig('modules.SubItems', SubItemsModule);\n\nSubItemsModule.propTypes = {\n    parentLocationId: PropTypes.number.isRequired,\n    restInfo: PropTypes.shape({\n        token: PropTypes.string.isRequired,\n        siteaccess: PropTypes.string.isRequired,\n    }).isRequired,\n    loadContentInfo: PropTypes.func,\n    loadContentType: PropTypes.func,\n    loadContentTypes: PropTypes.func,\n    loadLocation: PropTypes.func,\n    sortClauses: PropTypes.object,\n    updateLocationPriority: PropTypes.func,\n    activeView: PropTypes.string,\n    extraActions: PropTypes.arrayOf(\n        PropTypes.shape({\n            component: PropTypes.func,\n            attrs: PropTypes.object,\n        })\n    ),\n    items: PropTypes.arrayOf(PropTypes.object),\n    limit: PropTypes.number,\n    offset: PropTypes.number,\n    handleEditItem: PropTypes.func.isRequired,\n    generateLink: PropTypes.func.isRequired,\n    contentTypesMap: PropTypes.object,\n    totalCount: PropTypes.number,\n    languages: PropTypes.object,\n    udwConfigBulkMoveItems: PropTypes.object.isRequired,\n    showBulkActionFailedModal: PropTypes.func.isRequired,\n};\n\nSubItemsModule.defaultProps = {\n    loadContentInfo,\n    loadContentType,\n    loadContentTypes,\n    loadLocation,\n    sortClauses: {},\n    updateLocationPriority,\n    activeView: 'table',\n    extraActions: [],\n    languages: window.eZ.adminUiConfig.languages,\n    items: [],\n    limit: parseInt(window.eZ.adminUiConfig.subItems.limit, 10),\n    offset: 0,\n    contentTypesMap: {},\n    totalCount: 0,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/sub.items.module.js","module.exports = __WEBPACK_EXTERNAL_MODULE_20__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\"}\n// module id = 20\n// module chunks = 1","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ViewSwitcherButton from './view.switcher.button.component';\n\nconst ViewSwitcherComponent = ({ onViewChange, activeView, isDisabled }) => {\n    let componentClassName = 'c-view-switcher';\n\n    if (isDisabled) {\n        componentClassName = `${componentClassName} ${componentClassName}--disabled`;\n    }\n\n    const listViewBtnLabel = Translator.trans(/*@Desc(\"View as list\")*/ 'switch_to_list_view.btn.label', {}, 'sub_items');\n    const gridViewBtnLabel = Translator.trans(/*@Desc(\"View as grid\")*/ 'switch_to_grid_view.btn.label', {}, 'sub_items');\n\n    return (\n        <div className={componentClassName}>\n            <ViewSwitcherButton\n                id=\"table\"\n                icon=\"view-list\"\n                title={listViewBtnLabel}\n                onClick={onViewChange}\n                activeView={activeView}\n                isDisabled={isDisabled}\n            />\n            <ViewSwitcherButton\n                id=\"grid\"\n                icon=\"view-grid\"\n                title={gridViewBtnLabel}\n                onClick={onViewChange}\n                activeView={activeView}\n                isDisabled={isDisabled}\n            />\n        </div>\n    );\n};\n\nViewSwitcherComponent.propTypes = {\n    onViewChange: PropTypes.func.isRequired,\n    activeView: PropTypes.string.isRequired,\n    isDisabled: PropTypes.bool.isRequired,\n};\n\nexport default ViewSwitcherComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/view-switcher/view.switcher.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nconst ViewSwitcherButton = ({ id, icon, title, onClick, activeView, isDisabled }) => {\n    const baseClassName = 'c-view-switcher-btn';\n    const attrs = {\n        id,\n        onClick: () => onClick(id),\n        className: baseClassName,\n        title,\n        tabIndex: '-1',\n    };\n    const iconAttrs = {\n        name: icon,\n        extraClasses: 'ez-icon--secondary ez-icon--small',\n    };\n\n    if (activeView === id) {\n        attrs.className = `${baseClassName} ${baseClassName}--active`;\n        iconAttrs.extraClasses = 'ez-icon--light ez-icon--small';\n    }\n\n    if (isDisabled) {\n        attrs.className = `${attrs.className} ${baseClassName}--disabled`;\n    }\n\n    return (\n        <div {...attrs}>\n            <Icon {...iconAttrs} />\n        </div>\n    );\n};\n\nViewSwitcherButton.propTypes = {\n    id: PropTypes.string.isRequired,\n    activeView: PropTypes.string.isRequired,\n    isDisabled: PropTypes.bool.isRequired,\n    icon: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n};\n\nexport default ViewSwitcherButton;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/view-switcher/view.switcher.button.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport TableViewComponent from '../table-view/table.view.component.js';\nimport GridViewComponent from '../grid-view/grid.view.component.js';\n\nconst views = {\n    table: TableViewComponent,\n    grid: GridViewComponent,\n};\n\nconst SubItemsListComponent = (props) => {\n    const Component = views[props.activeView];\n\n    return <Component {...props} />;\n};\n\nSubItemsListComponent.propTypes = {\n    activeView: PropTypes.string.isRequired,\n    items: PropTypes.arrayOf(PropTypes.object),\n    contentTypesMap: PropTypes.object.isRequired,\n    handleItemPriorityUpdate: PropTypes.func.isRequired,\n    languages: PropTypes.object.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    toggleAllItemsSelect: PropTypes.func.isRequired,\n    selectedLocationsIds: PropTypes.instanceOf(Set).isRequired,\n    onSortChange: PropTypes.func.isRequired,\n    sortClause: PropTypes.string.isRequired,\n    sortOrder: PropTypes.string.isRequired,\n};\n\nexport default SubItemsListComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/sub-items-list/sub.items.list.component.js","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nexport default class TableViewItemComponent extends PureComponent {\n    constructor(props) {\n        super(props);\n\n        this.storePriorityValue = this.storePriorityValue.bind(this);\n        this.enablePriorityInput = this.enablePriorityInput.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleCancel = this.handleCancel.bind(this);\n        this.handleEdit = this.handleEdit.bind(this);\n        this.onSelectCheckboxChange = this.onSelectCheckboxChange.bind(this);\n        this.setPriorityInputRef = this.setPriorityInputRef.bind(this);\n\n        this._refPriorityInput = null;\n\n        this.state = {\n            priorityValue: props.location.priority,\n            priorityInputEnabled: false,\n            startingPriorityValue: props.location.priority,\n        };\n    }\n\n    /**\n     * Enables priority input field\n     *\n     * @method enablePriorityInput\n     * @memberof TableViewItemComponent\n     */\n    enablePriorityInput() {\n        this.setState(() => ({ priorityInputEnabled: true }));\n    }\n\n    /**\n     * Handles priority update cancel action.\n     * Restores previous value and blocks the priority input.\n     *\n     * @method handleCancel\n     * @param {Event} event\n     * @memberof TableViewItemComponent\n     */\n    handleCancel(event) {\n        event.preventDefault();\n\n        this.setState((state) => ({\n            priorityInputEnabled: false,\n            priorityValue: state.startingPriorityValue,\n        }));\n    }\n\n    /**\n     * Handles submit action.\n     * Updates priority value.\n     *\n     * @method handleSubmit\n     * @param {Event} event\n     * @memberof TableViewItemComponent\n     */\n    handleSubmit(event) {\n        event.preventDefault();\n\n        this.props.onItemPriorityUpdate({\n            location: this.props.location._href,\n            priority: this._refPriorityInput.value,\n        });\n\n        this.setState(() => ({\n            priorityValue: this._refPriorityInput.value,\n            priorityInputEnabled: false,\n            startingPriorityValue: this._refPriorityInput.value,\n        }));\n    }\n\n    /**\n     * Stores priority value\n     *\n     * @method storePriorityValue\n     * @param {Event} event\n     * @memberof TableViewItemComponent\n     */\n    storePriorityValue(event) {\n        event.preventDefault();\n\n        this.setState(() => ({ priorityValue: this._refPriorityInput.value }));\n    }\n\n    /**\n     * Handles edit action.\n     *\n     * @method handleEdit\n     * @memberof TableViewItemComponent\n     */\n    handleEdit() {\n        this.props.handleEditItem(this.props.content);\n    }\n\n    setPriorityInputRef(ref) {\n        this._refPriorityInput = ref;\n    }\n\n    /**\n     * Renders a priority cell with input field\n     *\n     * @method renderPriorityCell\n     * @returns {JSX.Element}\n     * @memberof TableViewItemComponent\n     */\n    renderPriorityCell() {\n        const inputAttrs = {\n            type: 'number',\n            defaultValue: this.state.priorityValue,\n            onChange: this.storePriorityValue,\n        };\n        const priorityWrapperAttrs = {};\n        const innerWrapperAttrs = {};\n\n        if (!this.props.columnsVisibility.priority) {\n            return null;\n        }\n\n        if (!this.state.priorityInputEnabled) {\n            inputAttrs.disabled = true;\n            delete inputAttrs.defaultValue;\n            inputAttrs.value = this.state.priorityValue;\n            priorityWrapperAttrs.onClick = this.enablePriorityInput;\n            priorityWrapperAttrs.className = 'c-table-view-item__inner-wrapper c-table-view-item__inner-wrapper--disabled';\n            innerWrapperAttrs.hidden = true;\n        }\n\n        return (\n            <td className=\"c-table-view-item__cell c-table-view-item__cell--priority\">\n                <div className=\"c-table-view-item__priority-wrapper\" {...priorityWrapperAttrs}>\n                    <div className=\"c-table-view-item__inner-wrapper c-table-view-item__inner-wrapper--input\">\n                        <input className=\"c-table-view-item__priority-value\" ref={this.setPriorityInputRef} {...inputAttrs} />\n                    </div>\n                    <div className=\"c-table-view-item__priority-actions\" {...innerWrapperAttrs}>\n                        <button type=\"button\" className=\"c-table-view-item__btn c-table-view-item__btn--cancel\" onClick={this.handleCancel}>\n                            <Icon name=\"discard\" extraClasses=\"ez-icon--medium ez-icon--light\" />\n                        </button>\n                        <button type=\"button\" className=\"c-table-view-item__btn c-table-view-item__btn--submit\" onClick={this.handleSubmit}>\n                            <Icon name=\"checkmark\" extraClasses=\"ez-icon--medium ez-icon--light\" />\n                        </button>\n                    </div>\n                </div>\n            </td>\n        );\n    }\n\n    renderModifiedCell() {\n        if (!this.props.columnsVisibility.modified) {\n            return null;\n        }\n\n        const { content } = this.props;\n        const { formatShortDateTime } = window.eZ.helpers.timezone;\n\n        return (\n            <td className=\"c-table-view-item__cell c-table-view-item__cell--modified\">\n                <div className=\"c-table-view-item__text-wrapper\">{formatShortDateTime(new Date(content.lastModificationDate))}</div>\n            </td>\n        );\n    }\n\n    renderContentTypeCell() {\n        if (!this.props.columnsVisibility.contentType) {\n            return null;\n        }\n\n        const { content, contentTypesMap } = this.props;\n        const notAvailableLabel = Translator.trans(/*@Desc(\"N/A\")*/ 'content_type.not_available.label', {}, 'sub_items');\n        const contentType = contentTypesMap[content.ContentType._href];\n        const contentTypeIdentifier = contentType ? contentType.identifier : null;\n        const contentTypeName = contentTypeIdentifier ? window.eZ.adminUiConfig.contentTypeNames[contentTypeIdentifier] : notAvailableLabel;\n\n        return (\n            <td className=\"c-table-view-item__cell c-table-view-item__cell--content-type\">\n                <div className=\"c-table-view-item__text-wrapper\">{contentTypeName}</div>\n            </td>\n        );\n    }\n\n    renderTranslationsCell() {\n        if (!this.props.columnsVisibility.translations) {\n            return null;\n        }\n\n        const { content, languages } = this.props;\n        const translations = content.CurrentVersion.Version.VersionInfo.VersionTranslationInfo.Language.map((langauge) => {\n            return languages.mappings[langauge.languageCode].name;\n        });\n\n        return (\n            <td className=\"c-table-view-item__cell c-table-view-item__cell--translations\">{translations.map(this.renderTranslation)}</td>\n        );\n    }\n\n    /**\n     * Renders a translation item\n     *\n     * @method renderTranslation\n     * @returns {JSX.Element}\n     * @memberof TableViewItemComponent\n     */\n    renderTranslation(translation, index) {\n        return (\n            <span key={index} className=\"c-table-view-item__translation\">\n                {translation}\n            </span>\n        );\n    }\n\n    /**\n     * Calls onItemSelect callback for given item\n     *\n     * @param {Event} event\n     */\n    onSelectCheckboxChange(event) {\n        const { location, content, onItemSelect } = this.props;\n        const isSelected = event.target.checked;\n\n        onItemSelect({ content, location }, isSelected);\n    }\n\n    render() {\n        const { content, location, isSelected, contentTypesMap, generateLink } = this.props;\n        const editLabel = Translator.trans(/*@Desc(\"Edit\")*/ 'edit_item_btn.label', {}, 'sub_items');\n        const contentType = contentTypesMap[content.ContentType._href];\n        const contentTypeIdentifier = contentType ? contentType.identifier : null;\n        const linkAttrs = {\n            className: 'c-table-view-item__link c-table-view-item__text-wrapper',\n            title: content.Name,\n            href: generateLink(location.id),\n        };\n        const contentTypeIconUrl = eZ.helpers.contentType.getContentTypeIconUrl(contentTypeIdentifier);\n\n        return (\n            <tr className=\"c-table-view-item\">\n                <td className=\"c-table-view-item__cell c-table-view-item__cell--checkbox\">\n                    <input type=\"checkbox\" checked={isSelected} onChange={this.onSelectCheckboxChange} />\n                </td>\n                <td className=\"c-table-view-item__cell c-table-view-item__cell--icon\">\n                    <Icon customPath={contentTypeIconUrl} extraClasses=\"ez-icon--small\" />\n                </td>\n                <td className=\"c-table-view-item__cell c-table-view-item__cell--name\">\n                    <a {...linkAttrs}>{content.Name}</a>\n                </td>\n                {this.renderModifiedCell()}\n                {this.renderContentTypeCell()}\n                {this.renderPriorityCell()}\n                {this.renderTranslationsCell()}\n                <td className=\"c-table-view-item__cell c-table-view-item__cell--actions\">\n                    <span\n                        title={editLabel}\n                        onClick={this.handleEdit}\n                        className=\"c-table-view-item__btn c-table-view-item__btn--edit\"\n                        tabIndex=\"-1\">\n                        <div className=\"c-table-view-item__btn-inner\">\n                            <Icon name=\"edit\" extraClasses=\"ez-icon--medium\" />\n                        </div>\n                    </span>\n                </td>\n            </tr>\n        );\n    }\n}\n\nTableViewItemComponent.propTypes = {\n    content: PropTypes.object.isRequired,\n    location: PropTypes.object.isRequired,\n    isSelected: PropTypes.bool.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    onItemPriorityUpdate: PropTypes.func.isRequired,\n    handleEditItem: PropTypes.func.isRequired,\n    generateLink: PropTypes.func.isRequired,\n    languages: PropTypes.object.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    columnsVisibility: PropTypes.object.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/table-view/table.view.item.component.js","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../common/icon/icon';\nimport TableViewColumnsTogglerListElement from './table.view.columns.toggler.list.element';\nimport { headerLabels } from './table.view.component';\n\nconst DEFAULT_PANEL_HEIGHT = 200;\n\nexport default class TableViewColumnsTogglerComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.togglePanel = this.togglePanel.bind(this);\n        this.hidePanel = this.hidePanel.bind(this);\n\n        this._refTogglerButton = createRef();\n        this._refPanel = createRef();\n\n        this.state = {\n            isOpen: false,\n            buttonBottomDocumentOffset: null,\n            panelHeight: null,\n        };\n    }\n\n    componentDidMount() {\n        document.addEventListener('click', this.hidePanel, false);\n\n        this.setState(() => ({\n            buttonBottomDocumentOffset: this.getBtnBottomDocumentOffset(),\n        }));\n    }\n\n    componentDidUpdate() {\n        const { isOpen, panelHeight } = this.state;\n\n        if (isOpen && panelHeight === null) {\n            this.setState({\n                panelHeight: this._refPanel.offsetHeight,\n            });\n        }\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('click', this.hidePanel);\n    }\n\n    getBtnBottomDocumentOffset() {\n        const buttonTopOffset = this._refTogglerButton.current.getBoundingClientRect().top + window.scrollY;\n\n        return document.documentElement.scrollHeight - buttonTopOffset;\n    }\n\n    hidePanel({ target }) {\n        if (!this.state.isOpen) {\n            return;\n        }\n\n        const isClickInsideToggler = target.closest('.c-table-view-columns-toggler');\n\n        if (!isClickInsideToggler) {\n            this.setState(() => ({\n                isOpen: false,\n            }));\n        }\n    }\n\n    togglePanel() {\n        this.setState((state) => ({\n            isOpen: !state.isOpen,\n        }));\n    }\n\n    renderPanel() {\n        if (!this.state.isOpen) {\n            return null;\n        }\n\n        const { columnsVisibility, toggleColumnVisibility } = this.props;\n        const { buttonBottomDocumentOffset, panelHeight: measuredPanelHeight } = this.state;\n        const panelHeight = measuredPanelHeight ? measuredPanelHeight : DEFAULT_PANEL_HEIGHT;\n        const panelAttrs = { className: 'c-table-view-columns-toggler__panel', ref: this._refPanel };\n\n        if (buttonBottomDocumentOffset < panelHeight) {\n            panelAttrs.className = `${panelAttrs.className} ${panelAttrs.className}--above-btn`;\n        }\n\n        return (\n            <div {...panelAttrs}>\n                <ul className=\"c-table-view-columns-toggler__list\">\n                    {Object.entries(columnsVisibility).map(([columnKey, isColumnVisible]) => {\n                        const label = headerLabels[columnKey];\n\n                        return (\n                            <TableViewColumnsTogglerListElement\n                                key={columnKey}\n                                label={label}\n                                columnKey={columnKey}\n                                isColumnVisible={isColumnVisible}\n                                toggleColumnVisibility={toggleColumnVisibility}\n                            />\n                        );\n                    })}\n                </ul>\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <div className=\"c-table-view-columns-toggler\">\n                <button\n                    ref={this._refTogglerButton}\n                    type=\"button\"\n                    className=\"btn btn-dark c-table-view-columns-toggler__btn\"\n                    onClick={this.togglePanel}>\n                    <Icon name=\"filters\" extraClasses=\"ez-icon--small ez-icon--light\" />\n                </button>\n                {this.renderPanel()}\n            </div>\n        );\n    }\n}\n\nTableViewColumnsTogglerComponent.propTypes = {\n    columnsVisibility: PropTypes.object.isRequired,\n    toggleColumnVisibility: PropTypes.func.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/table-view/table.view.columns.toggler.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst TableViewColumnsTogglerListElement = ({ label, isColumnVisible, toggleColumnVisibility, columnKey }) => {\n    return (\n        <li className=\"c-table-view-columns-toggler-list-element\" onClick={() => toggleColumnVisibility(columnKey)}>\n            <div className=\"form-check form-check-inline\">\n                <input className=\"form-check-input\" type=\"checkbox\" checked={isColumnVisible} readOnly={true} />\n                <label className=\"c-table-view-columns-toggler-list-element__label form-check-label\">{label}</label>\n            </div>\n        </li>\n    );\n};\n\nTableViewColumnsTogglerListElement.propTypes = {\n    label: PropTypes.string.isRequired,\n    columnKey: PropTypes.string.isRequired,\n    isColumnVisible: PropTypes.bool.isRequired,\n    toggleColumnVisibility: PropTypes.func.isRequired,\n};\n\nexport default TableViewColumnsTogglerListElement;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/table-view/table.view.columns.toggler.list.element.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport GridViewItemComponent from './grid.view.item.component';\n\nconst GridViewComponent = (props) => {\n    const { items, contentTypesMap, generateLink } = props;\n\n    return (\n        <div className=\"c-grid-view\">\n            {items.map((data) => (\n                <GridViewItemComponent key={data.location.id} {...data} contentTypesMap={contentTypesMap} generateLink={generateLink} />\n            ))}\n        </div>\n    );\n};\nGridViewComponent.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.object),\n    contentTypesMap: PropTypes.object,\n    generateLink: PropTypes.func.isRequired,\n};\n\nexport default GridViewComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/grid-view/grid.view.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nconst GridViewItemComponent = ({ content, location, generateLink, contentTypesMap }) => {\n    const imageField = content.CurrentVersion.Version.Fields.field.find((item) => item.fieldTypeIdentifier === 'ezimage');\n    const imageClassName = 'c-grid-view-item__image';\n    const hasImage = imageField && imageField.fieldValue && imageField.fieldValue.uri && imageField.fieldValue.path;\n    const contentType = contentTypesMap ? contentTypesMap[content.ContentType._href] : null;\n    const contentTypeIdentifier = contentType ? contentType.identifier : null;\n    const contentTypeIconUrl = eZ.helpers.contentType.getContentTypeIconUrl(contentTypeIdentifier);\n    let image = (\n        <div className={`${imageClassName} ${imageClassName}--none`}>\n            <Icon customPath={contentTypeIconUrl} extraClasses=\"ez-icon--extra-large\" />\n        </div>\n    );\n    let contentTypeIcon = '';\n\n    if (hasImage) {\n        image = <img className={imageClassName} src={imageField.fieldValue.uri} alt={`${imageField.fieldValue.path}`} />;\n        contentTypeIcon = (\n            <div className=\"c-grid-view-item__content-type\">\n                <Icon customPath={contentTypeIconUrl} extraClasses=\"ez-icon--small\" />\n            </div>\n        );\n    }\n\n    return (\n        <a className=\"c-grid-view-item\" href={generateLink(location.id)}>\n            {contentTypeIcon}\n            <div className=\"c-grid-view-item__image-wrapper\">{image}</div>\n            <div className=\"c-grid-view-item__title\">{content.Name}</div>\n        </a>\n    );\n};\n\nGridViewItemComponent.propTypes = {\n    content: PropTypes.object.isRequired,\n    location: PropTypes.object.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    generateLink: PropTypes.func.isRequired,\n};\n\nexport default GridViewItemComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/grid-view/grid.view.item.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nconst ActionButton = (props) => {\n    const { disabled, onClick, label, type } = props;\n    const baseClassName = 'c-action-btn';\n    const handleClick = () => {\n        if (!disabled) {\n            onClick();\n        }\n    };\n    const attrs = {\n        className: `${baseClassName}`,\n        title: label,\n        tabIndex: '-1',\n        onClick: handleClick,\n    };\n\n    attrs.className = disabled ? `${attrs.className} ${baseClassName}--disabled` : attrs.className;\n    attrs.className = type ? `${attrs.className} ${baseClassName}--${type}` : attrs.className;\n\n    return (\n        <div {...attrs}>\n            <Icon name={type} extraClasses=\"ez-icon--light ez-icon--medium\" />\n        </div>\n    );\n};\n\nActionButton.propTypes = {\n    label: PropTypes.string.isRequired,\n    disabled: PropTypes.bool.isRequired,\n    type: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n};\n\nexport default ActionButton;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/action-btn/action.btn.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport PaginationButtonComponent from './pagination.button.component';\n\nconst DOTS = '...';\n\n/**\n * Computes array with pagination pages.\n *\n * Example 1: [ 1, \"...\", 5, 6, 7, 8, 9, 10 ] (for: proximity = 2; pagesNumber = 10; activePageIndex = 7)\n * Example 2: [ 1, \"...\", 3, 4, 5, 6, 7, \"...\", 10 ] (for: proximity = 2; pagesNumber = 10; activePageIndex = 5)\n * Example 3: [ 1, \"...\", 8, 9, 10, 11, 12, \"...\", 20 ] (for: proximity = 2; pagesNumber = 20; activePageIndex = 10)\n *\n * @param {Object} params\n * @param {Number} params.proximity\n * @param {Number} params.activePageIndex\n * @param {Number} params.pagesCount\n *\n * @returns {Array}\n */\nconst computePages = ({ proximity, activePageIndex, pagesCount }) => {\n    const pages = [];\n    let wereDots = false;\n\n    for (let i = 1; i <= pagesCount; i++) {\n        const isFirstPage = i === 1;\n        const isLastPage = i === pagesCount;\n        const isInRange = i >= activePageIndex + 1 - proximity && i <= activePageIndex + 1 + proximity;\n\n        if (isFirstPage || isLastPage || isInRange) {\n            pages.push(i);\n            wereDots = false;\n        } else if (!wereDots) {\n            pages.push(DOTS);\n            wereDots = true;\n        }\n    }\n\n    return pages;\n};\n\nconst PaginationComponent = ({ totalCount, itemsPerPage, proximity, activePageIndex, onPageChange, disabled: paginationDisabled }) => {\n    const pagesCount = Math.ceil(totalCount / itemsPerPage);\n    const backLabel = Translator.trans(/*@Desc(\"Back\")*/ 'pagination.back', {}, 'sub_items');\n    const nextLabel = Translator.trans(/*@Desc(\"Next\")*/ 'pagination.next', {}, 'sub_items');\n    const previousPage = activePageIndex - 1;\n    const nextPage = activePageIndex + 1;\n    const isFirstPage = activePageIndex === 0;\n    const isLastPage = activePageIndex + 1 === pagesCount;\n    const pages = computePages({ proximity, activePageIndex, pagesCount });\n    const paginationButtons = pages.map((page, index) => {\n        if (page === DOTS) {\n            return <PaginationButtonComponent key={`dots-${index}`} label={DOTS} disabled={true} />;\n        }\n\n        const isCurrentPage = page === activePageIndex + 1;\n        const additionalClasses = isCurrentPage ? 'active' : '';\n        const label = '' + page;\n\n        return (\n            <PaginationButtonComponent\n                key={page}\n                pageIndex={page - 1}\n                label={label}\n                additionalClasses={additionalClasses}\n                onPageChange={onPageChange}\n                disabled={paginationDisabled}\n            />\n        );\n    });\n\n    return (\n        <ul className=\"c-pagination pagination row justify-content-center\">\n            <PaginationButtonComponent\n                pageIndex={previousPage}\n                label={backLabel}\n                additionalClasses=\"prev\"\n                disabled={isFirstPage || paginationDisabled}\n                onPageChange={onPageChange}\n            />\n            {paginationButtons}\n            <PaginationButtonComponent\n                pageIndex={nextPage}\n                label={nextLabel}\n                additionalClasses=\"next\"\n                disabled={isLastPage || paginationDisabled}\n                onPageChange={onPageChange}\n            />\n        </ul>\n    );\n};\n\nPaginationComponent.propTypes = {\n    proximity: PropTypes.number.isRequired,\n    itemsPerPage: PropTypes.number.isRequired,\n    activePageIndex: PropTypes.number.isRequired,\n    totalCount: PropTypes.number.isRequired,\n    onPageChange: PropTypes.func.isRequired,\n    disabled: PropTypes.bool,\n};\n\nexport default PaginationComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/pagination/pagination.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst PaginationButtonComponent = ({ label, disabled, additionalClasses, onPageChange, pageIndex }) => {\n    const handleClick = () => {\n        if (!disabled && Number.isInteger(pageIndex)) {\n            onPageChange(pageIndex);\n        }\n    };\n\n    let className = `c-pagination-button page-item ${additionalClasses}`;\n\n    className = disabled ? `${className} disabled` : className;\n\n    return (\n        <li className={className}>\n            <button className=\"page-link\" onClick={handleClick} type=\"button\">\n                {label}\n            </button>\n        </li>\n    );\n};\n\nPaginationButtonComponent.propTypes = {\n    label: PropTypes.string.isRequired,\n    disabled: PropTypes.bool,\n    onPageChange: PropTypes.func,\n    pageIndex: PropTypes.number,\n    additionalClasses: PropTypes.string,\n};\n\nPaginationButtonComponent.defaultProps = {\n    disabled: false,\n    additionalClasses: '',\n    onPageChange: () => {},\n};\n\nexport default PaginationButtonComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/pagination/pagination.button.component.js","import React from 'react';\n\nconst NoItemsComponent = () => {\n    const noItemsMessage = Translator.trans(/*@Desc(\"This location has no sub-items\")*/ 'no_items.message', {}, 'sub_items');\n\n    return <div className=\"c-no-items\">{noItemsMessage}</div>;\n};\n\nexport default NoItemsComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/no-items/no.items.component.js","import { handleRequestResponse } from '../../common/helpers/request.helper.js';\n\nconst HEADERS_CREATE_VIEW = {\n    Accept: 'application/vnd.ez.api.View+json; version=1.1',\n    'Content-Type': 'application/vnd.ez.api.ViewInput+json; version=1.1',\n};\nconst ENDPOINT_CREATE_VIEW = '/api/ezp/v2/views';\n\n/**\n * Loads location struct\n *\n * @function loadLocation\n * @param {Object} restInfo - contains:\n * @param {String} restInfo.token\n * @param {String} restInfo.siteaccess\n * @param {Object} queryConfig - contains:\n * @param {Number} queryConfig.locationId\n * @param {Number} queryConfig.limit\n * @param {Number} queryConfig.offset\n * @param {Object} queryConfig.sortClauses\n * @param {Function} callback\n */\nexport const loadLocation = ({ token, siteaccess }, { locationId = 2, limit = 10, offset = 0, sortClauses }, callback) => {\n    const body = JSON.stringify({\n        ViewInput: {\n            identifier: `subitems-load-location-${locationId}`,\n            public: false,\n            LocationQuery: {\n                Criteria: {},\n                FacetBuilders: {},\n                SortClauses: sortClauses,\n                Filter: { ParentLocationIdCriterion: locationId },\n                limit,\n                offset,\n            },\n        },\n    });\n    const request = new Request(ENDPOINT_CREATE_VIEW, {\n        method: 'POST',\n        headers: {\n            ...HEADERS_CREATE_VIEW,\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        body,\n        mode: 'cors',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => window.eZ.helpers.notification.showErrorNotification('Cannot load location'));\n};\n\n/**\n * Loads content info\n *\n * @function loadContentInfo\n * @param {Array} contentIds\n * @param {Function} callback\n */\nexport const loadContentInfo = ({ token, siteaccess }, contentIds, callback) => {\n    const ids = contentIds.join();\n    const body = JSON.stringify({\n        ViewInput: {\n            identifier: `subitems-load-content-info-${ids}`,\n            public: false,\n            ContentQuery: {\n                Criteria: {},\n                FacetBuilders: {},\n                SortClauses: {},\n                Filter: { ContentIdCriterion: `${ids}` },\n                limit: contentIds.length,\n                offset: 0,\n            },\n        },\n    });\n    const request = new Request(ENDPOINT_CREATE_VIEW, {\n        method: 'POST',\n        headers: {\n            ...HEADERS_CREATE_VIEW,\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        body,\n        mode: 'cors',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => window.eZ.helpers.notification.showErrorNotification('Cannot load content info'));\n};\n\n/**\n * Loads content types\n *\n * @function loadContentTypes\n * @param {Function} callback\n */\nexport const loadContentTypes = ({ token, siteaccess }, callback) => {\n    const request = new Request('/api/ezp/v2/content/types', {\n        method: 'GET',\n        headers: {\n            Accept: 'application/vnd.ez.api.ContentTypeInfoList+json',\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        mode: 'cors',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => window.eZ.helpers.notification.showErrorNotification('Cannot load content types'));\n};\n\n/**\n * Loads content types\n *\n * @function loadContentType\n * @param {Function} callback\n */\nexport const loadContentType = (id, { token, siteaccess }, callback) => {\n    const request = new Request(id, {\n        method: 'GET',\n        headers: {\n            Accept: 'application/vnd.ez.api.ContentType+json',\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        mode: 'cors',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => window.eZ.helpers.notification.showErrorNotification('Cannot load a content type'));\n};\n\n/**\n * Updates location priority\n *\n * @function updateLocationPriority\n * @param {Object} params params hash containing: priority, location, token, siteaccess properties\n * @param {Function} callback\n */\nexport const updateLocationPriority = ({ priority, location, token, siteaccess }, callback) => {\n    const request = new Request(location, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/vnd.ez.api.Location+json',\n            'Content-Type': 'application/vnd.ez.api.LocationUpdate+json',\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n            'X-HTTP-Method-Override': 'PATCH',\n        },\n        credentials: 'same-origin',\n        mode: 'cors',\n        body: JSON.stringify({\n            LocationUpdate: {\n                priority: priority,\n                sortField: 'PATH',\n                sortOrder: 'ASC',\n            },\n        }),\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => window.eZ.helpers.notification.showErrorNotification('An error occurred while updating location priority'));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/services/sub.items.service.js","import { handleRequestResponse } from '../../common/helpers/request.helper.js';\n\nconst HEADERS_BULK = {\n    Accept: 'application/vnd.ez.api.BulkOperationResponse+json',\n    'Content-Type': 'application/vnd.ez.api.BulkOperation+json',\n};\nconst TRASH_FAKE_LOCATION = '/api/ezp/v2/content/trash';\nconst ENDPOINT_BULK = '/api/ezp/v2/bulk';\n\nexport const bulkMoveLocations = (restInfo, locations, newLocationHref, callback) => {\n    const requestBodyOperations = getBulkMoveRequestOperations(locations, newLocationHref);\n\n    makeBulkRequest(restInfo, requestBodyOperations, processBulkResponse.bind(null, locations, callback));\n};\n\nexport const bulkMoveLocationsToTrash = (restInfo, locations, callback) => {\n    bulkMoveLocations(restInfo, locations, TRASH_FAKE_LOCATION, callback);\n};\n\nconst getBulkMoveRequestOperations = (locations, destination) => {\n    const operations = {};\n\n    locations.forEach((location) => {\n        operations[location.id] = {\n            uri: location._href,\n            method: 'MOVE',\n            headers: {\n                Destination: destination,\n            },\n        };\n    });\n\n    return operations;\n};\n\nconst processBulkResponse = (locations, callback, response) => {\n    const { operations } = response.BulkOperationResponse;\n    const locationsMatches = Object.entries(operations).reduce(\n        (locationsMatches, [locationId, response]) => {\n            const respectiveItem = locations.find((location) => location.id === parseInt(locationId, 10));\n            const isSuccess = 200 <= response.statusCode && response.statusCode <= 299;\n\n            if (isSuccess) {\n                locationsMatches.success.push(respectiveItem);\n            } else {\n                locationsMatches.fail.push(respectiveItem);\n            }\n\n            return locationsMatches;\n        },\n        { success: [], fail: [] }\n    );\n\n    callback(locationsMatches.success, locationsMatches.fail);\n};\n\nconst makeBulkRequest = ({ token, siteaccess }, requestBodyOperations, callback) => {\n    const request = new Request(ENDPOINT_BULK, {\n        method: 'POST',\n        headers: {\n            ...HEADERS_BULK,\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        body: JSON.stringify({\n            bulkOperations: {\n                operations: requestBodyOperations,\n            },\n        }),\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => {\n            const message = Translator.trans(\n                /*@Desc(\"An unexpected error occurred while deleting the content item(s). Please try again later.\")*/ 'bulk_request.error.message',\n                {},\n                'sub_items'\n            );\n\n            window.eZ.helpers.notification.showErrorNotification(message);\n        });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/services/bulk.service.js"],"sourceRoot":""}